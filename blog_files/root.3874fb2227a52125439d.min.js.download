"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[57481],{"./root.js":(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t("../packages/calypso-config/src/index.ts"),c=t("../node_modules/page/page.js"),r=t.n(c),i=t("./state/current-user/selectors.js"),n=t("./state/preferences/actions.js"),o=t("./state/preferences/selectors.js"),u=t("./state/selectors/get-primary-site-id.js"),d=t("./state/sites/actions.js"),l=t("./state/sites/selectors/get-site.js"),g=t("./state/sites/selectors/get-site-slug.js"),p=t("./state/sites/selectors/can-current-user-use-customer-home.js");function f(e,s=r()){s("/",(e=>{(0,i.Pc)(e.store.getState())?async function(e,s){let t=await async function({dispatch:e,getState:s}){if(a.ZP.isEnabled("sites-as-landing-page")){await e((async(e,s)=>{if(!(0,o.V2)(s()))try{await e((0,n.Fe)())}catch{}}));const t=(0,o.Oz)(s(),"sites-landing-page")?.useSitesAsLandingPage,a=(0,i.ts)(s())?.site_count;if(t&&a>1)return"/sites"}const t=(0,u.Z)(s());await e((c=t,async(e,s)=>{if(!(0,l.Z)(s(),c))try{await e((0,d.LV)(c))}catch{}}));var c;const r=(0,g.Z)(s(),t);if(!r)return"/read";if((0,p.Z)(s(),t))return`/home/${r}`;return`/stats/${r}`}(s.store);s.querystring&&(t+=`?${s.querystring}`);e.redirect(t)}(s,e):function(e){a.ZP.isEnabled("devdocs/redirect-loggedout-homepage")?e.redirect("/devdocs/start"):a.ZP.isEnabled("jetpack-cloud")&&a.ZP.isEnabled("oauth")&&e.redirect("/connect")}(s)}))}}}]);