/*! For license information please see entry-main.3a3999ae78431affbe6d.min.js.LICENSE.txt */
(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[63024],{"../node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/@wordpress/data/build-module/components/registry-provider/use-registry.js");const n=e=>{const{dispatch:t}=(0,o.Z)();return void 0===e?t:t(e)}},"../node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$":(e,t,s)=>{var o={"./af":["../node_modules/moment/locale/af.js",13555],"./af.js":["../node_modules/moment/locale/af.js",13555],"./ar":["../node_modules/moment/locale/ar.js",36568],"./ar-dz":["../node_modules/moment/locale/ar-dz.js",35083],"./ar-dz.js":["../node_modules/moment/locale/ar-dz.js",35083],"./ar-kw":["../node_modules/moment/locale/ar-kw.js",19467],"./ar-kw.js":["../node_modules/moment/locale/ar-kw.js",19467],"./ar-ly":["../node_modules/moment/locale/ar-ly.js",52511],"./ar-ly.js":["../node_modules/moment/locale/ar-ly.js",52511],"./ar-ma":["../node_modules/moment/locale/ar-ma.js",19794],"./ar-ma.js":["../node_modules/moment/locale/ar-ma.js",19794],"./ar-sa":["../node_modules/moment/locale/ar-sa.js",13445],"./ar-sa.js":["../node_modules/moment/locale/ar-sa.js",13445],"./ar-tn":["../node_modules/moment/locale/ar-tn.js",81338],"./ar-tn.js":["../node_modules/moment/locale/ar-tn.js",81338],"./ar.js":["../node_modules/moment/locale/ar.js",36568],"./az":["../node_modules/moment/locale/az.js",34273],"./az.js":["../node_modules/moment/locale/az.js",34273],"./be":["../node_modules/moment/locale/be.js",18736],"./be.js":["../node_modules/moment/locale/be.js",18736],"./bg":["../node_modules/moment/locale/bg.js",23136],"./bg.js":["../node_modules/moment/locale/bg.js",23136],"./bm":["../node_modules/moment/locale/bm.js",25546],"./bm.js":["../node_modules/moment/locale/bm.js",25546],"./bn":["../node_modules/moment/locale/bn.js",41259],"./bn.js":["../node_modules/moment/locale/bn.js",41259],"./bo":["../node_modules/moment/locale/bo.js",31741],"./bo.js":["../node_modules/moment/locale/bo.js",31741],"./br":["../node_modules/moment/locale/br.js",96303],"./br.js":["../node_modules/moment/locale/br.js",96303],"./bs":["../node_modules/moment/locale/bs.js",79398],"./bs.js":["../node_modules/moment/locale/bs.js",79398],"./ca":["../node_modules/moment/locale/ca.js",32551],"./ca.js":["../node_modules/moment/locale/ca.js",32551],"./cs":["../node_modules/moment/locale/cs.js",21205],"./cs.js":["../node_modules/moment/locale/cs.js",21205],"./cv":["../node_modules/moment/locale/cv.js",31268],"./cv.js":["../node_modules/moment/locale/cv.js",31268],"./cy":["../node_modules/moment/locale/cy.js",34571],"./cy.js":["../node_modules/moment/locale/cy.js",34571],"./da":["../node_modules/moment/locale/da.js",63187],"./da.js":["../node_modules/moment/locale/da.js",63187],"./de":["../node_modules/moment/locale/de.js",56069],"./de-at":["../node_modules/moment/locale/de-at.js",99640],"./de-at.js":["../node_modules/moment/locale/de-at.js",99640],"./de-ch":["../node_modules/moment/locale/de-ch.js",88920],"./de-ch.js":["../node_modules/moment/locale/de-ch.js",88920],"./de.js":["../node_modules/moment/locale/de.js",56069],"./dv":["../node_modules/moment/locale/dv.js",43117],"./dv.js":["../node_modules/moment/locale/dv.js",43117],"./el":["../node_modules/moment/locale/el.js",9130],"./el.js":["../node_modules/moment/locale/el.js",9130],"./en-au":["../node_modules/moment/locale/en-au.js",210],"./en-au.js":["../node_modules/moment/locale/en-au.js",210],"./en-ca":["../node_modules/moment/locale/en-ca.js",9323],"./en-ca.js":["../node_modules/moment/locale/en-ca.js",9323],"./en-gb":["../node_modules/moment/locale/en-gb.js",33461],"./en-gb.js":["../node_modules/moment/locale/en-gb.js",33461],"./en-ie":["../node_modules/moment/locale/en-ie.js",62409],"./en-ie.js":["../node_modules/moment/locale/en-ie.js",62409],"./en-il":["../node_modules/moment/locale/en-il.js",39488],"./en-il.js":["../node_modules/moment/locale/en-il.js",39488],"./en-in":["../node_modules/moment/locale/en-in.js",94897],"./en-in.js":["../node_modules/moment/locale/en-in.js",94897],"./en-nz":["../node_modules/moment/locale/en-nz.js",44145],"./en-nz.js":["../node_modules/moment/locale/en-nz.js",44145],"./en-sg":["../node_modules/moment/locale/en-sg.js",72133],"./en-sg.js":["../node_modules/moment/locale/en-sg.js",72133],"./eo":["../node_modules/moment/locale/eo.js",45506],"./eo.js":["../node_modules/moment/locale/eo.js",45506],"./es":["../node_modules/moment/locale/es.js",58632],"./es-do":["../node_modules/moment/locale/es-do.js",57933],"./es-do.js":["../node_modules/moment/locale/es-do.js",57933],"./es-us":["../node_modules/moment/locale/es-us.js",84503],"./es-us.js":["../node_modules/moment/locale/es-us.js",84503],"./es.js":["../node_modules/moment/locale/es.js",58632],"./et":["../node_modules/moment/locale/et.js",35427],"./et.js":["../node_modules/moment/locale/et.js",35427],"./eu":["../node_modules/moment/locale/eu.js",68631],"./eu.js":["../node_modules/moment/locale/eu.js",68631],"./fa":["../node_modules/moment/locale/fa.js",86308],"./fa.js":["../node_modules/moment/locale/fa.js",86308],"./fi":["../node_modules/moment/locale/fi.js",85667],"./fi.js":["../node_modules/moment/locale/fi.js",85667],"./fil":["../node_modules/moment/locale/fil.js",22531],"./fil.js":["../node_modules/moment/locale/fil.js",22531],"./fo":["../node_modules/moment/locale/fo.js",5854],"./fo.js":["../node_modules/moment/locale/fo.js",5854],"./fr":["../node_modules/moment/locale/fr.js",6685],"./fr-ca":["../node_modules/moment/locale/fr-ca.js",52743],"./fr-ca.js":["../node_modules/moment/locale/fr-ca.js",52743],"./fr-ch":["../node_modules/moment/locale/fr-ch.js",15907],"./fr-ch.js":["../node_modules/moment/locale/fr-ch.js",15907],"./fr.js":["../node_modules/moment/locale/fr.js",6685],"./fy":["../node_modules/moment/locale/fy.js",65],"./fy.js":["../node_modules/moment/locale/fy.js",65],"./ga":["../node_modules/moment/locale/ga.js",24397],"./ga.js":["../node_modules/moment/locale/ga.js",24397],"./gd":["../node_modules/moment/locale/gd.js",55288],"./gd.js":["../node_modules/moment/locale/gd.js",55288],"./gl":["../node_modules/moment/locale/gl.js",54856],"./gl.js":["../node_modules/moment/locale/gl.js",54856],"./gom-deva":["../node_modules/moment/locale/gom-deva.js",65058],"./gom-deva.js":["../node_modules/moment/locale/gom-deva.js",65058],"./gom-latn":["../node_modules/moment/locale/gom-latn.js",34246],"./gom-latn.js":["../node_modules/moment/locale/gom-latn.js",34246],"./gu":["../node_modules/moment/locale/gu.js",61049],"./gu.js":["../node_modules/moment/locale/gu.js",61049],"./he":["../node_modules/moment/locale/he.js",4286],"./he.js":["../node_modules/moment/locale/he.js",4286],"./hi":["../node_modules/moment/locale/hi.js",68833],"./hi.js":["../node_modules/moment/locale/hi.js",68833],"./hr":["../node_modules/moment/locale/hr.js",21765],"./hr.js":["../node_modules/moment/locale/hr.js",21765],"./hu":["../node_modules/moment/locale/hu.js",9774],"./hu.js":["../node_modules/moment/locale/hu.js",9774],"./hy-am":["../node_modules/moment/locale/hy-am.js",34841],"./hy-am.js":["../node_modules/moment/locale/hy-am.js",34841],"./id":["../node_modules/moment/locale/id.js",1392],"./id.js":["../node_modules/moment/locale/id.js",1392],"./is":["../node_modules/moment/locale/is.js",64314],"./is.js":["../node_modules/moment/locale/is.js",64314],"./it":["../node_modules/moment/locale/it.js",94577],"./it-ch":["../node_modules/moment/locale/it-ch.js",43473],"./it-ch.js":["../node_modules/moment/locale/it-ch.js",43473],"./it.js":["../node_modules/moment/locale/it.js",94577],"./ja":["../node_modules/moment/locale/ja.js",19768],"./ja.js":["../node_modules/moment/locale/ja.js",19768],"./jv":["../node_modules/moment/locale/jv.js",29241],"./jv.js":["../node_modules/moment/locale/jv.js",29241],"./ka":["../node_modules/moment/locale/ka.js",68592],"./ka.js":["../node_modules/moment/locale/ka.js",68592],"./kk":["../node_modules/moment/locale/kk.js",78103],"./kk.js":["../node_modules/moment/locale/kk.js",78103],"./km":["../node_modules/moment/locale/km.js",56425],"./km.js":["../node_modules/moment/locale/km.js",56425],"./kn":["../node_modules/moment/locale/kn.js",86377],"./kn.js":["../node_modules/moment/locale/kn.js",86377],"./ko":["../node_modules/moment/locale/ko.js",32921],"./ko.js":["../node_modules/moment/locale/ko.js",32921],"./ku":["../node_modules/moment/locale/ku.js",75239],"./ku.js":["../node_modules/moment/locale/ku.js",75239],"./ky":["../node_modules/moment/locale/ky.js",64156],"./ky.js":["../node_modules/moment/locale/ky.js",64156],"./lb":["../node_modules/moment/locale/lb.js",7686],"./lb.js":["../node_modules/moment/locale/lb.js",7686],"./lo":["../node_modules/moment/locale/lo.js",81087],"./lo.js":["../node_modules/moment/locale/lo.js",81087],"./lt":["../node_modules/moment/locale/lt.js",47497],"./lt.js":["../node_modules/moment/locale/lt.js",47497],"./lv":["../node_modules/moment/locale/lv.js",58312],"./lv.js":["../node_modules/moment/locale/lv.js",58312],"./me":["../node_modules/moment/locale/me.js",43575],"./me.js":["../node_modules/moment/locale/me.js",43575],"./mi":["../node_modules/moment/locale/mi.js",5027],"./mi.js":["../node_modules/moment/locale/mi.js",5027],"./mk":["../node_modules/moment/locale/mk.js",31110],"./mk.js":["../node_modules/moment/locale/mk.js",31110],"./ml":["../node_modules/moment/locale/ml.js",79963],"./ml.js":["../node_modules/moment/locale/ml.js",79963],"./mn":["../node_modules/moment/locale/mn.js",45715],"./mn.js":["../node_modules/moment/locale/mn.js",45715],"./mr":["../node_modules/moment/locale/mr.js",66951],"./mr.js":["../node_modules/moment/locale/mr.js",66951],"./ms":["../node_modules/moment/locale/ms.js",59009],"./ms-my":["../node_modules/moment/locale/ms-my.js",12905],"./ms-my.js":["../node_modules/moment/locale/ms-my.js",12905],"./ms.js":["../node_modules/moment/locale/ms.js",59009],"./mt":["../node_modules/moment/locale/mt.js",69389],"./mt.js":["../node_modules/moment/locale/mt.js",69389],"./my":["../node_modules/moment/locale/my.js",6230],"./my.js":["../node_modules/moment/locale/my.js",6230],"./nb":["../node_modules/moment/locale/nb.js",72710],"./nb.js":["../node_modules/moment/locale/nb.js",72710],"./ne":["../node_modules/moment/locale/ne.js",35789],"./ne.js":["../node_modules/moment/locale/ne.js",35789],"./nl":["../node_modules/moment/locale/nl.js",13236],"./nl-be":["../node_modules/moment/locale/nl-be.js",52066],"./nl-be.js":["../node_modules/moment/locale/nl-be.js",52066],"./nl.js":["../node_modules/moment/locale/nl.js",13236],"./nn":["../node_modules/moment/locale/nn.js",7396],"./nn.js":["../node_modules/moment/locale/nn.js",7396],"./oc-lnc":["../node_modules/moment/locale/oc-lnc.js",88555],"./oc-lnc.js":["../node_modules/moment/locale/oc-lnc.js",88555],"./pa-in":["../node_modules/moment/locale/pa-in.js",1629],"./pa-in.js":["../node_modules/moment/locale/pa-in.js",1629],"./pl":["../node_modules/moment/locale/pl.js",13839],"./pl.js":["../node_modules/moment/locale/pl.js",13839],"./pt":["../node_modules/moment/locale/pt.js",54299],"./pt-br":["../node_modules/moment/locale/pt-br.js",19694],"./pt-br.js":["../node_modules/moment/locale/pt-br.js",19694],"./pt.js":["../node_modules/moment/locale/pt.js",54299],"./ro":["../node_modules/moment/locale/ro.js",71552],"./ro.js":["../node_modules/moment/locale/ro.js",71552],"./ru":["../node_modules/moment/locale/ru.js",88644],"./ru.js":["../node_modules/moment/locale/ru.js",88644],"./sd":["../node_modules/moment/locale/sd.js",80804],"./sd.js":["../node_modules/moment/locale/sd.js",80804],"./se":["../node_modules/moment/locale/se.js",92177],"./se.js":["../node_modules/moment/locale/se.js",92177],"./si":["../node_modules/moment/locale/si.js",25199],"./si.js":["../node_modules/moment/locale/si.js",25199],"./sk":["../node_modules/moment/locale/sk.js",58752],"./sk.js":["../node_modules/moment/locale/sk.js",58752],"./sl":["../node_modules/moment/locale/sl.js",77060],"./sl.js":["../node_modules/moment/locale/sl.js",77060],"./sq":["../node_modules/moment/locale/sq.js",27819],"./sq.js":["../node_modules/moment/locale/sq.js",27819],"./sr":["../node_modules/moment/locale/sr.js",94323],"./sr-cyrl":["../node_modules/moment/locale/sr-cyrl.js",42461],"./sr-cyrl.js":["../node_modules/moment/locale/sr-cyrl.js",42461],"./sr.js":["../node_modules/moment/locale/sr.js",94323],"./ss":["../node_modules/moment/locale/ss.js",27875],"./ss.js":["../node_modules/moment/locale/ss.js",27875],"./sv":["../node_modules/moment/locale/sv.js",28734],"./sv.js":["../node_modules/moment/locale/sv.js",28734],"./sw":["../node_modules/moment/locale/sw.js",42146],"./sw.js":["../node_modules/moment/locale/sw.js",42146],"./ta":["../node_modules/moment/locale/ta.js",32105],"./ta.js":["../node_modules/moment/locale/ta.js",32105],"./te":["../node_modules/moment/locale/te.js",49273],"./te.js":["../node_modules/moment/locale/te.js",49273],"./tet":["../node_modules/moment/locale/tet.js",71832],"./tet.js":["../node_modules/moment/locale/tet.js",71832],"./tg":["../node_modules/moment/locale/tg.js",65077],"./tg.js":["../node_modules/moment/locale/tg.js",65077],"./th":["../node_modules/moment/locale/th.js",60585],"./th.js":["../node_modules/moment/locale/th.js",60585],"./tk":["../node_modules/moment/locale/tk.js",30032],"./tk.js":["../node_modules/moment/locale/tk.js",30032],"./tl-ph":["../node_modules/moment/locale/tl-ph.js",74760],"./tl-ph.js":["../node_modules/moment/locale/tl-ph.js",74760],"./tlh":["../node_modules/moment/locale/tlh.js",53223],"./tlh.js":["../node_modules/moment/locale/tlh.js",53223],"./tr":["../node_modules/moment/locale/tr.js",2631],"./tr.js":["../node_modules/moment/locale/tr.js",2631],"./tzl":["../node_modules/moment/locale/tzl.js",64197],"./tzl.js":["../node_modules/moment/locale/tzl.js",64197],"./tzm":["../node_modules/moment/locale/tzm.js",88853],"./tzm-latn":["../node_modules/moment/locale/tzm-latn.js",26234],"./tzm-latn.js":["../node_modules/moment/locale/tzm-latn.js",26234],"./tzm.js":["../node_modules/moment/locale/tzm.js",88853],"./ug-cn":["../node_modules/moment/locale/ug-cn.js",25691],"./ug-cn.js":["../node_modules/moment/locale/ug-cn.js",25691],"./uk":["../node_modules/moment/locale/uk.js",89286],"./uk.js":["../node_modules/moment/locale/uk.js",89286],"./ur":["../node_modules/moment/locale/ur.js",28446],"./ur.js":["../node_modules/moment/locale/ur.js",28446],"./uz":["../node_modules/moment/locale/uz.js",21930],"./uz-latn":["../node_modules/moment/locale/uz-latn.js",64633],"./uz-latn.js":["../node_modules/moment/locale/uz-latn.js",64633],"./uz.js":["../node_modules/moment/locale/uz.js",21930],"./vi":["../node_modules/moment/locale/vi.js",97893],"./vi.js":["../node_modules/moment/locale/vi.js",97893],"./x-pseudo":["../node_modules/moment/locale/x-pseudo.js",64038],"./x-pseudo.js":["../node_modules/moment/locale/x-pseudo.js",64038],"./yo":["../node_modules/moment/locale/yo.js",93821],"./yo.js":["../node_modules/moment/locale/yo.js",93821],"./zh-cn":["../node_modules/moment/locale/zh-cn.js",53999],"./zh-cn.js":["../node_modules/moment/locale/zh-cn.js",53999],"./zh-hk":["../node_modules/moment/locale/zh-hk.js",84559],"./zh-hk.js":["../node_modules/moment/locale/zh-hk.js",84559],"./zh-mo":["../node_modules/moment/locale/zh-mo.js",33026],"./zh-mo.js":["../node_modules/moment/locale/zh-mo.js",33026],"./zh-tw":["../node_modules/moment/locale/zh-tw.js",69737],"./zh-tw.js":["../node_modules/moment/locale/zh-tw.js",69737]};function n(e){if(!s.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return s.e(t[1]).then((()=>s.t(n,23)))}n.keys=()=>Object.keys(o),n.id="../node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$",e.exports=n},"./boot/app.js":(e,t,s)=>{"use strict";s("./boot/polyfills.js");var o=s("./boot/common.js");window.AppBoot=()=>{(0,o.b)("Calypso")}},"./boot/common.js":(e,t,s)=>{"use strict";s.d(t,{b:()=>Fe,v:()=>De});var o=s("../packages/accessible-focus/src/index.ts"),n=s("../packages/calypso-config/src/index.ts"),i=s("../packages/calypso-url/src/url-parts.ts"),a=s("../packages/i18n-utils/src/utils.ts"),r=s("../node_modules/debug/src/browser.js"),c=s.n(r),l=s("../node_modules/page/page.js"),d=s.n(l),u=s("../node_modules/react-dom/index.js"),m=s("../node_modules/react-modal/lib/index.js"),p=s.n(m),h=s("../node_modules/store/dist/store.modern.js"),g=s.n(h),y=s("../packages/i18n-calypso/src/index.js"),j=s("./lib/user/verification-checker.js"),f=s("./state/notices/actions.ts");function b(e,t){"1"===e.query.verified&&((0,j.X)(),setTimeout((()=>{const t=y.ZP.translate("Email confirmed!"),s=(0,f.RT)(t,{duration:1e4});e.store.dispatch(s)}),500)),t()}var _=s("./controller/index.web.js"),w=s("./lib/analytics/init.js"),v=s("./lib/analytics/super-props.js"),k=s("./lib/analytics/tracks.js"),x=s("../node_modules/tracekit/tracekit.js"),Z=s.n(x),S=s("./lib/wp/browser.js");const P=c()("calypso:error-logger");class E{constructor(){this.diagnosticData={commit:COMMIT_SHA,extra:{previous_paths:[],throttled:0}},this.diagnosticReducers=[],this.lastReport=0,window.onerror||Z().report.subscribe((e=>{const t={message:e.message,url:document.location.href};if(Array.isArray(e.stack)){const s=e.stack.slice(0,10);s.forEach((e=>Object.keys(e).forEach((t=>{"context"===t&&e[t]?e[t]=JSON.stringify(e[t]).substring(0,256):"string"==typeof e[t]&&e[t].length>512?e[t]=e[t].substring(0,512):Array.isArray(e[t])&&(e[t]=e[t].slice(0,3))})))),JSON.stringify(s).length<8192&&(t.trace=s)}const s=Date.now();this.lastReport+6e4<s?(this.lastReport=s,this.diagnose(),this.sendToApi(Object.assign(t,this.diagnosticData)),this.diagnosticData.extra.throttled=0):this.diagnosticData.extra.throttled++}))}saveNewPath(e){const t=this.diagnosticData.extra.previous_paths;t.unshift(e),this.diagnosticData.extra.previous_paths=t.slice(0,5),this.diagnosticData.calypso_path=e}saveDiagnosticReducer(e){this.diagnosticReducers.push(e)}saveDiagnosticData(e){"object"==typeof e.extra?this.saveExtraData(e):Object.assign(this.diagnosticData,e)}saveExtraData(e){Object.assign(this.diagnosticData.extra,e)}diagnose(){return this.diagnosticReducers.forEach((e=>{try{this.saveDiagnosticData(e())}catch(e){this.saveDiagnosticData({diagnosticError:e.message}),P("diagnostic: %o",this.diagnosticData)}})),this.diagnosticData}log(e,t){"object"==typeof t&&this.saveExtraData(t);try{Z().report(new Error(e))}catch(e){}}sendToApi(e){const t=()=>{console.error("Error: Unable to record the error in Logstash.")};try{S.Z.req.post({path:"/js-error",apiNamespace:"rest/v1.1",body:{error:JSON.stringify(e)}},(e=>e&&t()))}catch{t()}}}var C=s("./lib/navigate/index.ts"),N=s("./lib/oauth-token/index.js"),I=s("./lib/paths/index.js"),L=s("./lib/route/path.ts"),O=s("./state/analytics/actions/record.js"),T=s("./state/current-user/actions.js"),R=s("./state/current-user/selectors.js"),$=s("./state/desktop/window-events.js"),A=s("./state/notifications-panel/actions/index.js"),q=s("./state/selectors/is-notifications-open.js"),M=s("./state/ui/actions/notifications.js");const z=c()("calypso:desktop"),D={init:function(e){z("Registering IPC listeners"),window.electron.receive("page-my-sites",this.onShowMySites.bind(this)),window.electron.receive("page-reader",this.onShowReader.bind(this)),window.electron.receive("page-profile",this.onShowProfile.bind(this)),window.electron.receive("new-post",this.onNewPost.bind(this)),window.electron.receive("signout",this.onSignout.bind(this)),window.electron.receive("toggle-notification-bar",this.onToggleNotifications.bind(this)),window.electron.receive("notifications-panel-show",this.onNotificationsPanelShow.bind(this)),window.electron.receive("notifications-panel-refresh",this.onNotificationsPanelRefresh.bind(this)),window.electron.receive("notification-clicked",this.onNotificationClicked.bind(this)),window.electron.receive("page-help",this.onShowHelp.bind(this)),window.electron.receive("navigate",this.onNavigate.bind(this)),window.electron.receive("request-user-login-status",this.sendUserLoginStatus),window.addEventListener($.D,this.resetUnseenNotifications.bind(this)),this.store=e,this.sendUserLoginStatus()},selectedSite:null,navigate:function(e){this.onNotificationsPanelShow(null,!1),(0,C.c)(e)},toggleNotificationsPanel:function(){this.store.dispatch((0,M.P)())},setSelectedSite:function(e){this.selectedSite=e},resetUnseenNotifications:function(){z("Reseting unseen notification count"),window.electron.send("clear-notices-count")},onNotificationClicked:function(e){z(`Notification ${e.id} clicked`);const{id:t,type:s}=e;this.store.dispatch((0,O.jN)("calypso_web_push_notification_clicked"),{push_notification_note_id:t,push_notification_type:s})},onNotificationsPanelRefresh:function(){this.store.dispatch((0,A.k)(!0))},sendUserLoginStatus:function(){let e=!0;(0,R.Pc)(this.store.getState())||(e=!1),z("Sending logged-in = "+e),window.electron.send("user-login-status",e,{id:(0,R.rc)(this.store.getState())},N.LP())},onToggleNotifications:function(){z("Toggle notifications"),this.toggleNotificationsPanel()},onNotificationsPanelShow:function(e){const t=(0,q.Z)(this.store.getState());if(e){if(t)return;this.toggleNotificationsPanel()}else t&&this.toggleNotificationsPanel()},onSignout:function(){z("Signout"),this.store.dispatch((0,T.S9)())},onShowMySites:function(){z("Showing my sites");const e=this.selectedSite,t=e?e.slug:null;this.navigate((0,L.Zg)("day",t))},onShowReader:function(){z("Showing reader"),this.navigate("/read")},onShowProfile:function(){z("Showing my profile"),this.navigate("/me")},onNewPost:function(){z("New post"),this.navigate((0,I.fb)(this.selectedSite))},onShowHelp:function(){z("Showing help"),this.navigate("/help")},onNavigate:function(e){z("Navigating to URL: ",e),e&&this.navigate(e)}},U=D;var H=s("./lib/detect-history-navigation/index.js"),F=s("./lib/jetpack/is-jetpack-cloud.ts"),B=s("./lib/load-dev-helpers/index.js"),J=s("./lib/logmein/index.ts"),W=s("./lib/protect-form/index.tsx"),V=s("./lib/redux-bridge/index.js"),G=s("./lib/route/untrailingslashit.ts");const X=(e,t)=>{const s=(0,G.Z)(e.pathname);var o,n;s!==e.pathname?d().redirect((o=s,n=e.querystring,o+(n?"?"+n:""))):t()};var Y=s("./lib/route/legacy-routes.ts"),K=s("./lib/sentry/index.ts"),Q=s("./lib/touch-detect/index.js"),ee=s("./lib/url/is-outside-calypso.ts"),te=s("./lib/url/support.js"),se=s("./lib/user/shared-utils/initialize-current-user.js"),oe=s("./lib/user/store.js"),ne=s("./lib/user/support-user-interop.js"),ie=s("../packages/i18n-calypso/src/localize.js"),ae=s("./components/empty-content/index.jsx"),re=s("./lib/analytics/mc.js"),ce=s("./state/ui/section/actions.js"),le=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const de=c()("calypso:layout"),ue=()=>{},me=(0,ie.Z)((({translate:e})=>(0,le.tZ)(ae.Z,{illustration:"/calypso/images/illustrations/error.svg",title:e("We're sorry, but an unexpected error has occurred")})));function pe(){return"1"===new URLSearchParams(window.location.search).get("retry")}var he=s("./lib/performance-tracking/index.web.ts"),ge=s("./state/analytics/actions/bump-stat.js"),ye=s("./state/ui/layout-focus/actions.js");const je=[{name:"root",paths:["/"],module:"calypso/root",group:"root",enableLoggedOut:!0,load:()=>s.e(57481).then(s.bind(s,"./root.js"))},{name:"customize",paths:["/customize"],module:"calypso/my-sites/customize",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(38773)]).then(s.bind(s,"./my-sites/customize/index.js"))},{name:"sites-dashboard",paths:["/sites"],module:"calypso/sites-dashboard",group:"sites-dashboard",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(79706),s.e(46073),s.e(29875),s.e(60650),s.e(49149),s.e(80255)]).then(s.bind(s,"./sites-dashboard/index.ts"))},{name:"account",paths:["/me/account"],module:"calypso/me/account",group:"me",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(43400),s.e(29911),s.e(42160),s.e(53527),s.e(63836),s.e(3949),s.e(19299),s.e(68804),s.e(67699),s.e(34575),s.e(11969),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(31809)]).then(s.bind(s,"./me/account/index.js"))},{name:"account-close",paths:["/me/account/close","/me/account/closed"],module:"calypso/me/account-close",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(4783),s.e(16869),s.e(18821),s.e(49591),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(88598)]).then(s.bind(s,"./me/account-close/index.js"))},{name:"concierge",paths:["/me/concierge","/me/quickstart"],module:"calypso/me/concierge",group:"me",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(42160),s.e(76551),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(27373),s.e(14593),s.e(7092)]).then(s.bind(s,"./me/concierge/index.js"))},{name:"happychat",paths:["/me/chat"],module:"calypso/me/happychat",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(80595),s.e(16869),s.e(18821),s.e(49591),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(36420),s.e(94066)]).then(s.bind(s,"./me/happychat/index.jsx"))},{name:"notification-settings",paths:["/me/notifications"],module:"calypso/me/notification-settings",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(15477),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(65893),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(10175),s.e(52866),s.e(14593),s.e(52522),s.e(38470)]).then(s.bind(s,"./me/notification-settings/index.js"))},{name:"privacy",paths:["/me/privacy"],module:"calypso/me/privacy",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(98442),s.e(16869),s.e(18821),s.e(49591),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(77296)]).then(s.bind(s,"./me/privacy/index.js"))},{name:"purchases",paths:["/me/purchases","/me/billing","/payment-methods/add-credit-card"],module:"calypso/me/purchases",group:"me",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(29911),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(82430),s.e(45877),s.e(24619),s.e(6768),s.e(62870),s.e(16869),s.e(46073),s.e(96196),s.e(52866),s.e(14593),s.e(52522),s.e(52341),s.e(18068),s.e(50238),s.e(55081),s.e(26774),s.e(20667),s.e(2117),s.e(80881)]).then(s.bind(s,"./me/purchases/index.js"))},{name:"security",paths:["/me/security"],module:"calypso/me/security",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(9228),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(11969),s.e(3165),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(10175),s.e(52866),s.e(14593),s.e(52522),s.e(59493)]).then(s.bind(s,"./me/security/index.js"))},{name:"site-blocks",paths:["/me/site-blocks"],module:"calypso/me/site-blocks",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(80200),s.e(16869),s.e(18821),s.e(49591),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(19414),s.e(8005)]).then(s.bind(s,"./me/site-blocks/index.js"))},{name:"me",paths:["/me"],module:"calypso/me",group:"me",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(16632),s.e(16869),s.e(18821),s.e(49591),s.e(46073),s.e(52866),s.e(14593),s.e(52522),s.e(10351)]).then(s.bind(s,"./me/index.js"))},{name:"activity",paths:["/activity-log"],module:"calypso/my-sites/activity",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(31562),s.e(49683),s.e(87681),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(27373),s.e(83451),s.e(78187),s.e(64189),s.e(27805),s.e(31471)]).then(s.bind(s,"./my-sites/activity/index.js"))},{name:"site-purchases",paths:["/purchases"],module:"calypso/my-sites/purchases",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(29911),s.e(53527),s.e(82430),s.e(45877),s.e(24619),s.e(6768),s.e(62870),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(96196),s.e(52341),s.e(18068),s.e(50238),s.e(55081),s.e(26774),s.e(20667),s.e(2117),s.e(84284)]).then(s.bind(s,"./my-sites/purchases/index.js"))},{name:"media",paths:["/media"],module:"calypso/my-sites/media",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(9228),s.e(29911),s.e(42160),s.e(63836),s.e(58112),s.e(3949),s.e(31562),s.e(50842),s.e(95010),s.e(14953),s.e(75561),s.e(16869),s.e(18821),s.e(46073),s.e(52866),s.e(15561),s.e(56855),s.e(68206),s.e(59976),s.e(5191),s.e(61654)]).then(s.bind(s,"./my-sites/media/index.js"))},{name:"people",paths:["/people"],module:"calypso/my-sites/people",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(84760),s.e(82430),s.e(64560),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(60706),s.e(5321),s.e(64210)]).then(s.bind(s,"./my-sites/people/index.js"))},{name:"plugins",paths:["/plugins","/([a-z]{2,3}|[a-z]{2}-[a-z]{2})/plugins"],module:"calypso/my-sites/plugins",group:"sites",enableLoggedOut:!0,isomorphic:!0,title:"Plugins",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(9228),s.e(29911),s.e(42160),s.e(58112),s.e(3949),s.e(84760),s.e(31562),s.e(50842),s.e(95010),s.e(14953),s.e(67699),s.e(28246),s.e(92012),s.e(46073),s.e(96196),s.e(76140),s.e(83451),s.e(56855),s.e(68206),s.e(90406),s.e(7928),s.e(34429),s.e(13227),s.e(81710),s.e(90389),s.e(20667),s.e(16902),s.e(49238),s.e(55916),s.e(10309),s.e(43414)]).then(s.bind(s,"./my-sites/plugins/index.web.js"))},{name:"marketplace",paths:["/marketplace"],module:"calypso/my-sites/marketplace",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(58112),s.e(82430),s.e(41563),s.e(57110),s.e(61974),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(83451),s.e(90406),s.e(54505),s.e(90389),s.e(10309),s.e(99669)]).then(s.bind(s,"./my-sites/marketplace/index.js"))},{name:"pages",paths:["/pages"],module:"calypso/my-sites/pages",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(9228),s.e(53527),s.e(84760),s.e(48654),s.e(84195),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(15561),s.e(50238),s.e(60202),s.e(73107)]).then(s.bind(s,"./my-sites/pages/index.js"))},{name:"posts",paths:["/posts"],module:"calypso/my-sites/posts",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(9228),s.e(53527),s.e(84760),s.e(48654),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(15561),s.e(60202),s.e(94486),s.e(89537),s.e(66287)]).then(s.bind(s,"./my-sites/posts/index.js"))},{name:"settings-performance",paths:["/settings/performance"],module:"calypso/my-sites/site-settings/settings-performance",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(58112),s.e(71146),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(76140),s.e(83451),s.e(90406),s.e(31066)]).then(s.bind(s,"./my-sites/site-settings/settings-performance/index.js"))},{name:"settings-writing",paths:["/settings/writing","/settings/taxonomies","/settings/podcasting"],module:"calypso/my-sites/site-settings/settings-writing",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(63836),s.e(93571),s.e(43175),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(27373),s.e(76555)]).then(s.bind(s,"./my-sites/site-settings/settings-writing/index.js"))},{name:"settings-discussion",paths:["/settings/discussion"],module:"calypso/my-sites/site-settings/settings-discussion",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(10175),s.e(17277),s.e(42926)]).then(s.bind(s,"./my-sites/site-settings/settings-discussion/index.js"))},{name:"settings-security",paths:["/settings/security"],module:"calypso/my-sites/site-settings/settings-security",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(78187),s.e(36792),s.e(7734),s.e(30899)]).then(s.bind(s,"./my-sites/site-settings/settings-security/index.js"))},{name:"settings-jetpack",paths:["/settings/jetpack"],module:"calypso/my-sites/site-settings/settings-jetpack",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(10175),s.e(78187),s.e(7734),s.e(99397),s.e(46952)]).then(s.bind(s,"./my-sites/site-settings/settings-jetpack/index.js"))},{name:"settings",paths:["/settings"],module:"calypso/my-sites/site-settings",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(29911),s.e(63836),s.e(3949),s.e(49050),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(47277),s.e(60706),s.e(5321),s.e(85164),s.e(35571)]).then(s.bind(s,"./my-sites/site-settings/index.js"))},{name:"marketing",paths:["/marketing","/sharing"],module:"calypso/my-sites/marketing",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(96196),s.e(83451),s.e(36792),s.e(59976),s.e(95496),s.e(85164),s.e(69073)]).then(s.bind(s,"./my-sites/marketing/index.js"))},{name:"jetpack-connect",paths:["/jetpack"],module:"calypso/jetpack-connect",enableLoggedOut:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(23683),s.e(84674),s.e(57015),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(18068),s.e(47277),s.e(10025),s.e(94116),s.e(41096),s.e(34242),s.e(8203),s.e(67586),s.e(10281),s.e(54204)]).then(s.bind(s,"./jetpack-connect/index.js"))},{name:"purchase-product",paths:["/purchase-product"],module:"calypso/my-sites/purchase-product",enableLoggedOut:!0,load:()=>Promise.all([s.e(18570),s.e(96196),s.e(10281),s.e(17413)]).then(s.bind(s,"./my-sites/purchase-product/index.js"))},{name:"signup",paths:["/start"],module:"calypso/signup",enableLoggedOut:!0,isomorphic:!0,load:()=>Promise.all([s.e(26055),s.e(47277),s.e(10025),s.e(94116),s.e(77379),s.e(51830)]).then(s.bind(s,"./signup/index.web.js"))},{name:"stats",paths:["/stats"],module:"calypso/my-sites/stats",group:"sites",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(48654),s.e(23508),s.e(57031),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(83451),s.e(7928),s.e(60650),s.e(7315),s.e(33846),s.e(99049),s.e(36784)]).then(s.bind(s,"./my-sites/stats/index.js"))},{name:"google-my-business",paths:["/google-my-business"],module:"calypso/my-sites/google-my-business",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(44049),s.e(50358),s.e(61061),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(10175),s.e(60650),s.e(81020)]).then(s.bind(s,"./my-sites/google-my-business/index.js"))},{name:"themes",paths:["/themes","/([a-z]{2,3}|[a-z]{2}-[a-z]{2})/themes","/design"],module:"calypso/my-sites/themes",enableLoggedOut:!0,group:"sites",isomorphic:!0,title:"Themes",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(58112),s.e(28246),s.e(71146),s.e(17962),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(76140),s.e(15561),s.e(90406),s.e(50238),s.e(83767)]).then(s.bind(s,"./my-sites/themes/index.web.js"))},{name:"theme",paths:["/theme","/([a-z]{2,3}|[a-z]{2}-[a-z]{2})/theme"],module:"calypso/my-sites/theme",enableLoggedOut:!0,group:"sites",isomorphic:!0,title:"Themes",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(67909),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(15561),s.e(36792),s.e(50238),s.e(68505)]).then(s.bind(s,"./my-sites/theme/index.web.js"))},{name:"domains",paths:["/domains"],module:"calypso/my-sites/domains",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(9228),s.e(29911),s.e(45877),s.e(31266),s.e(6768),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(96196),s.e(76140),s.e(7928),s.e(45797),s.e(18068),s.e(10025),s.e(45290),s.e(26774),s.e(96836),s.e(35967),s.e(98275)]).then(s.bind(s,"./my-sites/domains/index.js"))},{name:"incoming-redirect",paths:["/incoming-redirect"],module:"calypso/incoming-redirect",enableLoggedOut:!0,load:()=>s.e(89827).then(s.bind(s,"./incoming-redirect/index.js"))},{name:"email",paths:["/email"],module:"calypso/my-sites/email",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(85144),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(83451),s.e(26055),s.e(56855),s.e(54505),s.e(35967),s.e(93041)]).then(s.bind(s,"./my-sites/email/index.js"))},{name:"inbox",paths:["/inbox"],module:"calypso/my-sites/email",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(85144),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(83451),s.e(26055),s.e(56855),s.e(54505),s.e(35967),s.e(93041)]).then(s.bind(s,"./my-sites/email/index.js"))},{name:"checkout",paths:["/checkout"],module:"calypso/my-sites/checkout",group:"sites",enableLoggedOut:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(9228),s.e(53527),s.e(84760),s.e(19299),s.e(82430),s.e(24619),s.e(31266),s.e(56257),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(96196),s.e(76140),s.e(15561),s.e(45797),s.e(52341),s.e(50238),s.e(55081),s.e(69222),s.e(45290),s.e(34242),s.e(48229),s.e(54505),s.e(74231)]).then(s.bind(s,"./my-sites/checkout/index.js"))},{name:"plans",paths:["/plans"],module:"calypso/my-sites/plans",group:"sites",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(67699),s.e(84674),s.e(47423),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(76140),s.e(83451),s.e(45797),s.e(18068),s.e(34429),s.e(34242),s.e(8203),s.e(14751)]).then(s.bind(s,"./my-sites/plans/index.js"))},{name:"accept-invite",paths:["/accept-invite"],module:"calypso/my-sites/invites",enableLoggedOut:!0,load:()=>Promise.all([s.e(80622),s.e(26055),s.e(47277),s.e(10025),s.e(94116),s.e(41096),s.e(67586),s.e(77379),s.e(58247)]).then(s.bind(s,"./my-sites/invites/index.js"))},{name:"earn",paths:["/earn","/ads"],module:"calypso/my-sites/earn",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(73854),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(76140),s.e(33846),s.e(13358)]).then(s.bind(s,"./my-sites/earn/index.js"))},{name:"mailing-lists",paths:["/mailing-lists/unsubscribe"],module:"calypso/mailing-lists",enableLoggedOut:!0,group:"me",load:()=>s.e(77204).then(s.bind(s,"./mailing-lists/index.js"))},{name:"reader",paths:["/read"],module:"calypso/reader",group:"reader",enableLoggedOut:!0,trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/index.js"))},{name:"reader",paths:["/read/feeds/[^\\/]+","/read/blogs/[^\\/]+","/read/a8c","/read/p2","/recommendations"],module:"calypso/reader",group:"reader",enableLoggedOut:!0,trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/index.js"))},{name:"reader",paths:["/read/feeds/[^\\/]+/posts/[^\\/]+","/read/blogs/[^\\/]+/posts/[^\\/]+"],module:"calypso/reader/full-post",group:"reader",enableLoggedOut:!0,trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/full-post/index.js"))},{name:"reader",paths:["/discover"],module:"calypso/reader/discover",group:"reader",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/discover/index.js"))},{name:"reader",paths:["/following"],module:"calypso/reader/following",group:"reader",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/following/index.js"))},{name:"reader",paths:["/tags","/tag"],module:"calypso/reader/tag-stream",group:"reader",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/tag-stream/index.js"))},{name:"reader",paths:["/activities"],module:"calypso/reader/liked-stream",group:"reader",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/liked-stream/index.js"))},{name:"reader",paths:["/read/search","/recommendations"],module:"calypso/reader/search",group:"reader",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/search/index.js"))},{name:"reader",paths:["/read/list"],module:"calypso/reader/list",group:"reader",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/list/index.js"))},{name:"reader",paths:["/read/conversations"],module:"calypso/reader/conversations",group:"reader",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(9228),s.e(15050),s.e(89468),s.e(38161),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(10175),s.e(19414),s.e(9408),s.e(29381),s.e(84297),s.e(21923),s.e(42207)]).then(s.bind(s,"./reader/conversations/index.js"))},{name:"help",paths:["/help"],module:"calypso/me/help",enableLoggedOut:!0,group:"me",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(43400),s.e(42160),s.e(53527),s.e(63836),s.e(19299),s.e(68804),s.e(12444),s.e(87716),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(52866),s.e(27373),s.e(14593),s.e(52522),s.e(84347),s.e(23039)]).then(s.bind(s,"./me/help/index.js"))},{name:"auth",paths:["/api/oauth/token"],module:"calypso/auth",enableLoggedOut:!0,load:()=>s.e(59818).then(s.bind(s,"./auth/index.js"))},{name:"posts-custom",paths:["/types"],module:"calypso/my-sites/types",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(4289),s.e(9228),s.e(53527),s.e(84760),s.e(48654),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(15561),s.e(60202),s.e(94486),s.e(89537),s.e(970)]).then(s.bind(s,"./my-sites/types/index.js"))},{name:"comments",paths:["/comments","/comment"],module:"calypso/my-sites/comments",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(84760),s.e(31562),s.e(50842),s.e(67699),s.e(34575),s.e(14792),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(27373),s.e(29381),s.e(58324)]).then(s.bind(s,"./my-sites/comments/index.js"))},{name:"preview",paths:["/view"],module:"calypso/my-sites/preview",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(15561),s.e(11493)]).then(s.bind(s,"./my-sites/preview/index.js"))},{name:"domain-connect-authorize",paths:["/domain-connect"],module:"calypso/my-sites/domains/domain-management/domain-connect",load:()=>s.e(10199).then(s.bind(s,"./my-sites/domains/domain-management/domain-connect/index.jsx"))},{name:"gutenberg-editor",paths:["/block-editor","/site-editor","/post","/page","/edit"],module:"calypso/gutenberg/editor",group:"gutenberg",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(41563),s.e(93805),s.e(97268),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(15561),s.e(20275),s.e(80489)]).then(s.bind(s,"./gutenberg/editor/index.js"))},{name:"import",paths:["/import"],module:"calypso/my-sites/importer",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(84760),s.e(87635),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(60706),s.e(17277),s.e(67006)]).then(s.bind(s,"./my-sites/importer/index.js"))},{name:"export",paths:["/export"],module:"calypso/my-sites/exporter",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(17277),s.e(67157)]).then(s.bind(s,"./my-sites/exporter/index.js"))},{name:"migrate",paths:["/migrate"],module:"calypso/my-sites/migrate",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(76140),s.e(65061)]).then(s.bind(s,"./my-sites/migrate/index.js"))},{name:"devdocs",paths:["/devdocs"],module:"calypso/devdocs",enableLoggedOut:!0,load:()=>Promise.all([s.e(14953),s.e(51306),s.e(45573)]).then(s.bind(s,"./devdocs/index.js"))},{name:"home",paths:["/home"],module:"calypso/my-sites/customer-home",group:"sites",trackLoadPerformance:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(19299),s.e(68804),s.e(72286),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(76140),s.e(27373),s.e(15561),s.e(60650),s.e(16485),s.e(85177)]).then(s.bind(s,"./my-sites/customer-home/index.js"))},{name:"hosting",paths:["/hosting-config"],module:"calypso/my-sites/hosting",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(9228),s.e(58112),s.e(71146),s.e(59116),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(76140),s.e(14593),s.e(90406),s.e(8746)]).then(s.bind(s,"./my-sites/hosting/index.js"))},{name:"backup",paths:["/backup"],module:"calypso/my-sites/backup",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(58112),s.e(31562),s.e(49683),s.e(79772),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(27373),s.e(78187),s.e(90406),s.e(53098),s.e(64189),s.e(27805),s.e(85991)]).then(s.bind(s,"./my-sites/backup/index.js"))},{name:"scan",paths:["/scan"],module:"calypso/my-sites/scan",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(58112),s.e(49683),s.e(98085),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(96196),s.e(27373),s.e(78187),s.e(90406),s.e(53098),s.e(60853)]).then(s.bind(s,"./my-sites/scan/index.js"))},{name:"jetpack-cloud",paths:["/","/landing","/settings"],module:"calypso/jetpack-cloud",group:"jetpack-cloud",enableLoggedOut:!0,load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(32915),s.e(21532)]).then(s.bind(s,"./jetpack-cloud/index.js"))},{name:"jetpack-cloud-agency-dashboard",paths:["/dashboard"],module:"calypso/jetpack-cloud/sections/agency-dashboard",group:"jetpack-cloud",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(31562),s.e(6423),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(29875),s.e(63174),s.e(20880),s.e(10175),s.e(26055),s.e(32915),s.e(49769),s.e(64189),s.e(85135),s.e(24342),s.e(19205)]).then(s.bind(s,"./jetpack-cloud/sections/agency-dashboard/index.ts"))},{name:"jetpack-cloud-plugin-management",paths:["/plugins"],module:"calypso/jetpack-cloud/sections/plugin-management",group:"jetpack-cloud",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(58112),s.e(84760),s.e(71146),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(10175),s.e(76140),s.e(83451),s.e(90406),s.e(7928),s.e(13227),s.e(90389),s.e(16902),s.e(55916),s.e(8721)]).then(s.bind(s,"./jetpack-cloud/sections/plugin-management/index.ts"))},{name:"jetpack-cloud-settings",paths:["/settings"],module:"calypso/jetpack-cloud/sections/settings",group:"jetpack-cloud",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(4289),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(78187),s.e(7734),s.e(99397),s.e(2595)]).then(s.bind(s,"./jetpack-cloud/sections/settings/index.js"))},{name:"jetpack-cloud-auth",paths:["/connect","/connect/oauth/token"],module:"calypso/jetpack-cloud/sections/auth",group:"jetpack-cloud",enableLoggedOut:!0,load:()=>s.e(48281).then(s.bind(s,"./jetpack-cloud/sections/auth/index.ts"))},{name:"jetpack-cloud-pricing",paths:["/pricing","/[^\\/]+/pricing","/plans","/[^\\/]+/plans"],module:"calypso/jetpack-cloud/sections/pricing",group:"jetpack-cloud",enableLoggedOut:!0,links:[{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"}],load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(43400),s.e(84674),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(18068),s.e(34242),s.e(8203),s.e(44492)]).then(s.bind(s,"./jetpack-cloud/sections/pricing/index.ts"))},{name:"jetpack-search",paths:["/jetpack-search"],module:"calypso/my-sites/jetpack-search",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(96196),s.e(53098),s.e(2944)]).then(s.bind(s,"./my-sites/jetpack-search/index.js"))},{name:"jetpack-cloud-partner-portal",paths:["/partner-portal"],module:"calypso/jetpack-cloud/sections/partner-portal",group:"jetpack-cloud",load:()=>Promise.all([s.e(90532),s.e(71539),s.e(43400),s.e(9228),s.e(84760),s.e(82430),s.e(24619),s.e(67699),s.e(34575),s.e(10471),s.e(51306),s.e(20880),s.e(10175),s.e(52341),s.e(32915),s.e(24342),s.e(52313),s.e(44856)]).then(s.bind(s,"./jetpack-cloud/sections/partner-portal/index.ts"))},{name:"jetpack-cloud-agency-signup",paths:["/agency/signup"],module:"calypso/jetpack-cloud/sections/agency-signup",group:"jetpack-cloud",load:()=>Promise.all([s.e(32915),s.e(52313),s.e(78893)]).then(s.bind(s,"./jetpack-cloud/sections/agency-signup/index.ts"))},{name:"jetpack-social",paths:["/jetpack-social"],module:"calypso/jetpack-cloud/sections/jetpack-social",group:"jetpack-cloud",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(59976),s.e(95496),s.e(54880)]).then(s.bind(s,"./jetpack-cloud/sections/jetpack-social/index.js"))},{name:"woocommerce-installation",paths:["/woocommerce-installation"],module:"calypso/my-sites/woocommerce",group:"woocommerce-installation",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(7928),s.e(49149),s.e(54991),s.e(71586)]).then(s.bind(s,"./my-sites/woocommerce/index.js"))},{name:"woocommerce",paths:["/store"],module:"calypso/my-sites/store",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(99738)]).then(s.bind(s,"./my-sites/store/index.js"))},{name:"add-ons",paths:["/add-ons","/add-ons/[^\\/]+"],module:"calypso/my-sites/add-ons",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(29911),s.e(23683),s.e(64910),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(20880),s.e(80488),s.e(7928),s.e(63625),s.e(89275)]).then(s.bind(s,"./my-sites/add-ons/index.ts"))},{name:"promote-post",paths:["/advertising","/advertising/[^\\/]+(/[^\\/])?"],module:"calypso/my-sites/promote-post",group:"sites",load:()=>Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(98454),s.e(15477),s.e(41563),s.e(48654),s.e(16869),s.e(18821),s.e(49591),s.e(51306),s.e(46073),s.e(29875),s.e(63174),s.e(80488),s.e(10175),s.e(60202),s.e(48020)]).then(s.bind(s,"./my-sites/promote-post/index.js"))}];var fe=s("./sections-filter.js"),be=s("./sections-helper.js"),_e=s("./utils.ts");(0,be.oq)(je);const we={};function ve(e,t){const{envId:s}=t;if(s&&!s.includes((0,n.ZP)("env_id")))return;const o=(0,_e.y5)(e);t.enableLoggedOut||d()(o,_.S9),t.trackLoadPerformance&&d()(o,(0,he.yD)(t.name)),d()(o,(async function(e,s){try{const o=we[t.module];if(o)!0!==o&&await o;else{const s=async function(e,t){e.store.dispatch((0,ce.t)(!0));const s=setTimeout((()=>{e.store.dispatch((0,ge.P)("calypso_chunk_waiting",t.name))}),400);try{const o=await(0,be.zD)(t.name,t.module);await o.default(_.Ly)}finally{e.store.dispatch((0,ce.t)(!1)),clearTimeout(s)}}(e,t);we[t.module]=s,await s,we[t.module]=!0}!function(e,t){_.QS(e)(t),t.store.dispatch((0,ye.zW)())}(t,e),s()}catch(s){delete we[t.module],console.error(s),pe()?function(e,t){de("Chunk %s could not be loaded",t),(0,re.P)("calypso_chunk_error",t),e.store.dispatch((0,ce.z)(!1,{section:!1})),e.primary=(0,le.tZ)(me,{}),(0,_.wx)(e,ue),(0,_.sY)(e)}(e,t.name):function(e){if(!pe()){const t=new URLSearchParams(window.location.search);(0,re.P)("calypso_chunk_retry",e),t.set("retry","1"),window.location.search=t.toString()}}(t.name)}}))}var ke=s("./state/index.js"),xe=s("./state/happychat/connection/actions.js"),Ze=s("../node_modules/lodash-es/get.js");s("./state/happychat/init.js");const Se=e=>{const t=(e=>(0,Ze.Z)(e,"happychat.chat.lastActivityTimestamp"))(e);return Date.now()-t<6e5};var Pe=s("./state/happychat/user/actions.js"),Ee=s("./state/happychat/utils.js"),Ce=s("./state/initial-state.js"),Ne=s("./state/persisted-state.js"),Ie=s("./state/push-notifications/actions.js"),Le=s("./state/query-client.ts"),Oe=s("./state/reducer.js"),Te=s("./state/redux-store.ts"),Re=s("./state/route/actions.js"),$e=s("./state/ui/selectors/get-selected-site-id.js"),Ae=s("./state/ui/selectors/get-section-name.js"),qe=s("./boot/locale.js");const Me=c()("calypso");const ze=()=>{if(n.ZP.isEnabled("oauth")){const e=["/start","/api/oauth/token","/connect"];(0,F.Z)()&&n.ZP.isEnabled("jetpack/pricing-page")&&(e.push("/pricing","/plans"),(0,a.aK)().forEach((t=>e.push(`/${t}/pricing`,`/${t}/plans`)))),d()("*",(function(t,s){const o=e.some((e=>t.path.startsWith(e)));!1!==(0,N.LP)()||o?s():window.location=function(){const e=new URL((0,F.Z)()?"/connect/oauth/token":"/api/oauth/token",window.location);e.search=new URLSearchParams({next:window.location.pathname+window.location.search}).toString();const t=new URL("https://public-api.wordpress.com/oauth2/authorize");return t.search=new URLSearchParams({response_type:"token",client_id:(0,n.ZP)("oauth_client_id"),redirect_uri:e.toString(),scope:"global",blog_id:0}).toString(),t.toString()}()}))}};function De(e){if((0,K.j6)({beforeSend:t=>{const s=e.getState(),o={blog_id:(0,$e.Z)(s),calypso_section:(0,Ae.Z)(s)};return t.tags={...o,...t.tags},t},userId:(0,R.rc)(e.getState())}),!n.ZP.isEnabled("catch-js-errors"))return;const t=new E;let o;s("./lib/catch-js-errors/log.js").X(t),t.saveDiagnosticData({user_id:(0,R.rc)(e.getState()),calypso_env:(0,n.ZP)("env_id")}),t.saveDiagnosticReducer((function(){const t=e.getState();return{blog_id:(0,$e.Z)(t),calypso_section:(0,Ae.Z)(t)}})),k.tracksEvents.on("record-event",((e,s)=>t.saveExtraData({lastTracksEvent:s}))),d()("*",(function(e,s){const n=e.canonicalPath.replace((0,L.lQ)(e.canonicalPath),":siteId");(0,K.n_)({category:"navigation",data:{from:o??n,to:n,should_capture:!0}}),o=n,t.saveNewPath(n),s()}))}const Ue=(e,t,s)=>{Me("Executing Calypso setup middlewares."),((e,t)=>{d()("*",((s,o)=>{const n=(0,i.A)(s.canonicalPath),a=n.pathname+n.search||null;if(s.prevPath=a!==s.path&&a,s.query=Object.fromEntries(n.searchParams.entries()),s.hashstring=n.hash&&n.hash.substring(1)||"",s.hashstring)try{s.hash=Object.fromEntries(new globalThis.URLSearchParams(s.hashstring).entries())}catch(e){Me("failed to query-string parse `location.hash`",e),s.hash={}}else s.hash={};s.store=e,s.queryClient=t,s.redirect=(e,t=null)=>(isNaN(e)&&!t&&(t=e),d().replace(t,s.state,!1,!1)),"/wp-login.php"!==s.pathname?(0,ee.Z)(s.pathname)?window.location.href=s.path:o():window.location.href=s.path})),d().exit("*",((s,o)=>{s.store=e,s.queryClient=t,o()}))})(t,s),ze(),(()=>{for(const e of je)if((0,fe.Z)(e))for(const t of e.paths)ve(t,e)})(),d()("*",((e,t)=>{e.store.dispatch((0,Re.p)(e.pathname,e.query)),t()})),d().exit("*",W.bw),(0,w.M)(e||void 0,(0,v.Z)(t)),De(t),d()("*",(function(e,s){if(-1!==["sb","sp"].indexOf(e.querystring)){const s="sb"===e.querystring?"sidebar":"sites";t.dispatch((0,ye.SB)(s)),d().replace(e.pathname)}s()})),d()("*",(function(e,t){return(0,Y.K)(e.pathname)?t():X(e,t)})),d()("*",(function(t,s){"/me/account"!==t.path&&e.phone_account&&d()("/me/account"),s()})),d()("*",b),window.location.pathname.startsWith("/start")||["signupProgress","signupDependencies"].forEach((e=>g().remove(e))),e||d()("*",(function(e,t){if("/plans"!==e.pathname)t();else{const t=e.query&&e.query.for;window.location=t&&"jetpack"===t?"https://wordpress.com/wp-login.php?redirect_to=https%3A%2F%2Fwordpress.com%2Fplans":(0,F.Z)()?te.ml:"https://wordpress.com/pricing/"}}));const o=t.getState();n.ZP.isEnabled("happychat")&&t.dispatch((0,Pe._)()),Se(o)&&t.dispatch((0,xe.XY)((0,Ee.S)(o)())),window.electron&&U.init(t),(0,B.Z)(t),n.ZP.isEnabled("logmein")&&(0,R.Pc)(t.getState())&&(0,J.cI)(t)};const He=async(e,t)=>{!function(){if(!window.location.search)return;const e=new URLSearchParams(window.location.search).get("flags");if(!e)return;const t=e.split(",").find((e=>/^[+-]?oauth$/.test(e)));t&&window.sessionStorage.setItem("flags",t)}(),Me("Executing Calypso utils."),(0,Q._)()?document.documentElement.classList.add("touch"):document.documentElement.classList.add("notouch"),(0,o.Z)(),p().setAppElement(document.getElementById("wpcom")),await(0,Ne.Gr)();const i=(0,Le.cf)();await(0,Le.RV)(i,e?.ID);const a=(0,Le.xi)();(0,Le.bH)(i,a);const r=(0,Ce.aY)(Oe.Z,e?.ID),c=(0,ke.E)(r,Oe.Z);(0,Te.P)(c,(0,Ce.eC)(e?.ID)),(0,oe.x$)((0,Ce.oY)(c,e?.ID)),(0,qe.w)(e,c),((e,t)=>{Me("Executing Calypso configure Redux store."),e&&t.dispatch((0,T.lx)(e)),n.ZP.isEnabled("network-connection")&&s.e(46503).then(s.bind(s,"./lib/network-connection/index.js")).then((function(e){e.default.init(t)})),(0,ne.setSupportSessionReduxStore)(t),(0,V.e)(t),e&&n.ZP.isEnabled("push-notifications")&&t.dispatch((0,Ie.S1)())})(e,c),Ue(e,c,i),H.Z.start(),t&&t(),document.getElementById("primary")||function(e,t){u.render((0,le.tZ)(_.o0,{store:e,queryClient:t}),document.getElementById("wpcom"))}(c,i),d().start({decodeURLComponents:!1})},Fe=async(e,t)=>{const s=await(0,se.k)();Me(`Starting ${e}. Let's do this.`),await He(s,t)}},"./boot/polyfills.js":(e,t,s)=>{"use strict";s("../packages/calypso-polyfills/browser.js");(0,s("../node_modules/lodash-es/noop.js").Z)()},"./components/calypso-i18n-provider/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("../packages/i18n-utils/src/locale-context.tsx"),n=s("../packages/i18n-utils/src/locales.ts"),i=s("../node_modules/@wordpress/i18n/build-module/index.js"),a=s("../node_modules/@wordpress/react-i18n/build-module/index.js"),r=s("../packages/i18n-calypso/src/index.js"),c=s("../packages/i18n-calypso/src/context.js"),l=s("../node_modules/react/index.js"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=({i18n:e=r.ZP,children:t})=>{const[s,u]=(0,l.useState)(e.getLocaleSlug());return(0,l.useEffect)((()=>{const t=()=>{i.i$.setLocaleData(e.getLocale()),u(e.getLocaleSlug())};return e.on("change",t),()=>{e.off("change",t)}}),[e]),(0,l.useEffect)((()=>{i.i$.resetLocaleData(e.getLocale())}),[s]),(0,d.tZ)(c.Z.Provider,{value:e,children:(0,d.tZ)(o.Iw,{localeSlug:s||n.OP,children:(0,d.tZ)(a.bd,{i18n:i.i$,children:t})})})}},"./components/data/query-preferences/index.jsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("../node_modules/react/index.js"),n=s("../node_modules/react-redux/es/index.js"),i=s("./state/preferences/actions.js"),a=s("./state/preferences/selectors.js");function r(){const e=(0,n.I0)();return(0,o.useEffect)((()=>{e(((e,t)=>{(0,a.rf)(t())||e((0,i.Fe)())}))}),[e]),null}},"./components/data/query-site-features/index.jsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s("../node_modules/prop-types/index.js"),n=s.n(o),i=s("../node_modules/react/index.js"),a=s("../node_modules/react-redux/es/index.js"),r=s("./state/selectors/is-requesting-site-features.js"),c=s("./state/sites/features/actions.js");const l=e=>(e.sort(),e.join("_"));function d({siteIds:e}){const t=(0,a.I0)();return(0,i.useEffect)((()=>{e.forEach((e=>t((e=>(t,s)=>{e&&!(0,r.Z)(s(),e)&&t((0,c.i)(e))})(e))))}),[t,l(e)]),null}d.propTypes={siteIds:n().arrayOf(n().number)}},"./components/pulsing-dot/index.jsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/classnames/index.js"),i=s.n(n),a=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends a.Component{constructor(...e){super(...e),(0,o.Z)(this,"timeout",null),(0,o.Z)(this,"state",{show:!1})}componentDidMount(){const{delay:e}=this.props;this.timeout=setTimeout((()=>{this.setState({show:!0})}),e)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{active:e}=this.props,{show:t}=this.state;if(!t)return null;const s=i()("pulsing-dot",{"is-active":e});return(0,r.tZ)("div",{className:s})}}c.defaultProps={delay:0};const l=c},"./controller/index.web.js":(e,t,s)=>{"use strict";s.d(t,{o0:()=>Yt,Ly:()=>es,wx:()=>Kt,v6:()=>os,S9:()=>ts,cY:()=>ss,sY:()=>Xt.s,qR:()=>Gt.qR,QS:()=>Gt.QS});var o=s("../packages/calypso-config/src/index.ts"),n=s("../packages/i18n-utils/src/utils.ts"),i=s("../packages/i18n-calypso/src/index.js"),a=s("../node_modules/page/page.js"),r=s.n(a),c=s("../node_modules/react-query/es/index.js"),l=s("../node_modules/react-redux/es/index.js"),d=s("./components/calypso-i18n-provider/index.tsx"),u=s("./components/empty-content/index.jsx"),m=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=s("../node_modules/debug/src/browser.js"),h=s.n(p),g=s("../node_modules/moment/moment.js"),y=s.n(g),j=s("../node_modules/react/index.js"),f=s("./state/selectors/get-current-locale-slug.js"),b=s("./components/localized-moment/context.js"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w=h()("calypso:localized-moment");class v extends j.Component{constructor(...e){super(...e),(0,m.Z)(this,"state",{moment:y(),momentLocale:y().locale()})}async checkAndLoad(e){const{currentLocale:t}=this.props;if(t!==e){if("en"===t)this.loadingLocalePromise=Promise.resolve();else{w("Loading moment locale for %s",t);try{this.loadingLocalePromise=s("../node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$")(`./${t}`),await this.loadingLocalePromise}catch(e){return void w("Failed to load moment locale for %s",t,e)}w("Loaded moment locale for %s",t)}t===this.props.currentLocale&&(y().locale()!==t&&y().locale(t),this.setState({momentLocale:t}))}}componentDidMount(){this.checkAndLoad(y().locale())}componentDidUpdate(e){this.checkAndLoad(e.currentLocale)}render(){return(0,_.tZ)(b.Z.Provider,{value:this.state,children:this.props.children})}}const k=(0,l.$j)((e=>({currentLocale:(0,f.Z)(e)})))(v);var x=s("./components/route/index.js"),Z=s("../packages/data-stores/src/help-center/index.ts"),S=s("../packages/help-center/src/utils.ts"),P=s("../packages/viewport/src/index.ts"),E=s("../packages/viewport-react/src/index.js"),C=s("../node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),N=s("../node_modules/classnames/index.js"),I=s.n(N),L=s("./components/async-load/index.jsx"),O=s("./components/data/document-head/index.jsx"),T=s("./components/data/query-preferences/index.jsx"),R=s("./components/data/query-site-features/index.jsx"),$=s("../node_modules/prop-types/index.js"),A=s.n($),q=s("./state/selected-editor/actions.js");function M({siteId:e}){const t=(0,l.I0)();return(0,j.useEffect)((()=>{e&&t((0,q.o)(e))}),[t,e]),null}M.propTypes={siteId:A().number};var z=s("./components/data/query-sites/index.jsx"),D=s("../packages/i18n-calypso/src/use-translate.js"),U=s("./components/jetpack-logo/index.jsx"),H=s("./components/gravatar/index.jsx"),F=s("./lib/jetpack/use-track-callback.ts"),B=s("./state/analytics/actions/record.js"),J=s("./state/current-user/actions.js"),W=s("./state/current-user/selectors.js"),V=s("./state/ui/selectors/get-selected-site-id.js");const G=()=>{const e=(0,l.I0)(),t=(0,D.Z)(),s=j.useRef(null),[o,n]=(0,j.useState)(!1),i=(0,l.v9)(W.ts),a=(0,l.v9)(V.Z),r=(0,j.useCallback)((()=>n(!o)),[o,n]),c=(0,j.useCallback)((()=>{o&&(n(!1),e((0,B.jN)("calypso_jetpack_masterbar_profile_close",{site_id:a})))}),[e,o,a]),d=(0,F.Z)(r,"calypso_jetpack_masterbar_profile_toggle"),u=(0,j.useCallback)((()=>e((0,J.S9)())),[e]),m=(0,F.Z)(u,"calypso_jetpack_settings_masterbar_logout");return function(e,t){const s=(0,j.useCallback)((e=>{"Escape"===e.key&&t()}),[t]),o=(0,j.useCallback)((({target:s})=>{e.current&&!e.current.contains(s)&&t()}),[e,t]);(0,j.useEffect)((()=>(document.addEventListener("keydown",s),document.addEventListener("click",o),()=>{document.removeEventListener("keydown",s),document.removeEventListener("click",o)})),[o,s])}(s,c),(0,_.BX)("nav",{className:"profile-dropdown__nav",id:"user-navigation","aria-label":t("User menu",{comment:"Label used to differentiate navigation landmarks in screen readers"}),ref:s,children:[(0,_.tZ)("button",{className:"profile-dropdown__button","aria-expanded":o,"aria-controls":"menu-list",onClick:d,children:(0,_.tZ)(H.Z,{className:"profile-dropdown__button-gravatar",user:i,alt:t("My Profile",{textOnly:!0}),size:24})}),(0,_.BX)("ul",{className:"profile-dropdown__list",id:"menu-list",hidden:!o,children:[(0,_.BX)("li",{className:"profile-dropdown__list-item",children:[(0,_.tZ)("span",{className:"profile-dropdown__display-name",children:i.display_name}),(0,_.tZ)("span",{className:"profile-dropdown__username",children:`@${i.username}`})]}),(0,_.tZ)("li",{className:"profile-dropdown__list-item",children:(0,_.tZ)("button",{className:"profile-dropdown__logout",onClick:m,children:t("Log out")})})]})]})};var X=s("./layout/masterbar/masterbar.jsx"),Y=s("./state/document-head/selectors/get-document-head-title.js"),K=s("./state/selectors/get-current-route.js"),Q=s("./state/ui/layout-focus/actions.js"),ee=s("./state/ui/layout-focus/selectors.js"),te=function(e){Promise.all([s.e(51306),s.e(10175),s.e(32915),s.e(45948)]).then(s.bind(s,"./components/jetpack/portal-nav/index.tsx")).then((function(t){e(t.default)}))};const se=()=>{const e=(0,D.Z)(),t=(0,l.I0)(),s=(0,l.v9)(Y.p),o=(0,l.v9)(K.Z),n=(0,E.Gc)("<660px"),i=(0,l.v9)(ee.d),a=/^\/(?:backup|scan)\/[^/]*$/.test(o),r=j.useCallback((e=>{n&&"sidebar"===i&&(e.preventDefault(),t((0,Q.Js)("content")))}),[t,Q.Js,n,i]);return(0,_.BX)(X.Z,{className:"is-jetpack-cloud-masterbar",children:[(0,_.tZ)("a",{className:"masterbar__item-home",href:"/",onClick:r,title:e("Jetpack Cloud Dashboard",{comment:"Jetpack Cloud top navigation bar item"}),children:(0,_.tZ)(U.Z,{size:28,full:!n||a,aria:{hidden:!0}})}),(0,_.tZ)(L.Z,{require:te,placeholder:null}),s&&(0,_.tZ)("h1",{className:"masterbar__item-title",children:s}),(0,_.tZ)(G,{})]})};s("./components/sympathy-dev-warning/index.tsx");var oe=s("./jetpack-connect/persistence-utils.js"),ne=s("./jetpack-connect/woo-dna-config.js"),ie=s("./state/ui/selectors/get-section-name.js");const ae=e=>!(!(0,V.Z)(e)||"gutenberg-editor"!==(0,ie.Z)(e)),re=()=>{const e=(0,l.v9)(ae);return(0,j.useEffect)((()=>{const t=document.querySelector("html");if(t)return e?(t.classList.add("is-iframe"),()=>t.classList.remove("is-iframe")):void t.classList.remove("is-iframe")}),[e]),null},ce=()=>(0,_.tZ)("header",{id:"header",className:"masterbar"});var le=s("../packages/calypso-products/src/main.ts"),de=s("../packages/components/src/popover/index.jsx"),ue=s("../packages/components/src/button/index.tsx"),me=s("../packages/i18n-calypso/src/localize.js"),pe=s("../node_modules/qs/lib/index.js"),he=s("./lib/route/path.ts"),ge=s("./lib/wp/browser.js"),ye=s("./my-sites/domains/paths.js"),je=s("./sections-helper.js"),fe=s("./state/preferences/actions.js"),be=s("./state/preferences/selectors.js"),_e=s("./state/selectors/get-previous-route.js"),we=s("./state/selectors/get-primary-site-id.js"),ve=s("./state/selectors/get-site-migration-status.js"),ke=s("./state/selectors/is-domain-only-site.js"),xe=s("./state/selectors/is-notifications-open.js"),Ze=s("./state/selectors/is-site-automated-transfer.ts"),Se=s("./state/selectors/is-site-migration-active-route.js"),Pe=s("./state/selectors/is-site-migration-in-progress.js"),Ee=s("./state/sites/actions.js"),Ce=s("./state/sites/selectors/get-site-plan-slug.js"),Ne=s("./state/sites/selectors/get-site-slug.js"),Ie=s("./state/sites/selectors/is-jetpack-site.ts"),Le=s("./state/sites/selectors/can-current-user-use-customer-home.js"),Oe=s("./state/support/selectors.js"),Te=s("./state/ui/selectors/get-section-group.js"),Re=s("./layout/masterbar/item.tsx");const $e=({children:e,open:t,onClose:s})=>{const o=window.location.pathname,[n,i]=(0,j.useState)(o);return(0,j.useEffect)((()=>{t&&i(o)}),[t,o]),(0,j.useEffect)((()=>{t&&o!==n&&s()}),[t,s,n,o]),t?(0,_.tZ)("div",{className:"masterbar__mobile-menu-backdrop","aria-hidden":"true",onClick:e=>{e.target===e.currentTarget&&s()},children:(0,_.tZ)("div",{className:"masterbar__mobile-menu-inner",children:e})}):null};var Ae=s("../node_modules/store/dist/store.modern.js"),qe=s.n(Ae);s("./components/translatable/proptype.js"),s("./state/notifications/init.js");const Me=(ze=W.ts,e=>{const t=(e=>void 0===e.notificationsUnseenCount?null:e.notificationsUnseenCount)(e);if(null!==t)return t>0;const s=ze(e);return null!==s?!!s.has_unseen_notes:null});var ze,De=s("./state/ui/actions/notifications.js");const Ue=({newItems:e,active:t})=>(0,_.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,_.tZ)("defs",{children:(0,_.tZ)("circle",{id:"bubble",cx:"20",cy:"4",r:"4"})}),(0,_.BX)("g",{children:[(0,_.tZ)("path",{fill:"var( --color-masterbar-text )",d:"M9.9,20h4c0,0.5-0.2,1-0.6,1.4   c-0.8,0.8-2,0.8-2.8,0C10.1,21,9.9,20.5,9.9,20z M20,17.5v1H4v-1l0.9-0.7C5.5,16.3,6,15.5,6,15l0-5.5c0-3.3,2.7-6,6-6   c3.3,0,6,2.7,6,6V15c0,0.5,0.5,1.4,1.1,1.8L20,17.5z"}),e&&(0,_.BX)("g",{className:"notifications-bell-icon__bubble",children:[(0,_.tZ)("use",{className:"border",xlinkHref:"#bubble",transform:"scale( 1.5 )",fill:t?"var( --color-masterbar-item-active-background )":"var( --color-masterbar-background )"}),(0,_.tZ)("use",{xlinkHref:"#bubble",fill:"var( --color-masterbar-unread-dot-background )"})]})]})]});var He=function(e){Promise.all([s.e(37803),s.e(52850)]).then(s.bind(s,"./notifications/index.jsx")).then((function(t){e(t.default)}))};class Fe extends j.Component{constructor(...e){super(...e),(0,m.Z)(this,"notificationLink",(0,j.createRef)()),(0,m.Z)(this,"notificationPanel",(0,j.createRef)()),(0,m.Z)(this,"state",{animationState:0,newNote:this.props.hasUnseenNotifications}),(0,m.Z)(this,"checkToggleNotes",((e,t)=>{const s=!!e&&e.target;s&&(this.notificationLink.current.contains(s)||this.notificationPanel.current.contains(s))||(this.props.isNotificationsOpen||!0===t)&&this.toggleNotesFrame(e)})),(0,m.Z)(this,"toggleNotesFrame",(e=>{e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),this.props.toggleNotificationsPanel()})),(0,m.Z)(this,"setNotesIndicator",(e=>{const t=qe().get("wpnotes_unseen_count");let s=this.state.animationState;0===e?s=0:e>t&&(s=1-Math.abs(this.state.animationState)),qe().set("wpnotes_unseen_count",e),this.setState({newNote:e>0,animationState:s})}))}componentDidUpdate(e){!e.isNotificationsOpen&&this.props.isNotificationsOpen&&(this.props.recordTracksEvent("calypso_notification_open",{unread_notifications:qe().get("wpnotes_unseen_count")}),this.setNotesIndicator(0)),e.isNotificationsOpen&&!this.props.isNotificationsOpen&&(this.notificationLink.current.blur(),this.notificationPanel.current.blur(),window.focus())}render(){const e=I()(this.props.className,"masterbar-notifications",{"is-active":this.props.isNotificationsOpen,"has-unread":this.state.newNote,"is-initial-load":-1===this.state.animationState});return(0,_.BX)(_.HY,{children:[(0,_.tZ)(Re.Z,{url:"/notifications",icon:(0,_.tZ)(Ue,{newItems:this.state.newNote,active:this.props.isActive}),onClick:this.toggleNotesFrame,isActive:this.props.isActive,tooltip:this.props.tooltip,className:e,ref:this.notificationLink},this.state.animationState),(0,_.tZ)("div",{className:"masterbar-notifications__panel",ref:this.notificationPanel,children:(0,_.tZ)(L.Z,{require:He,isShowing:this.props.isNotificationsOpen,checkToggle:this.checkToggleNotes,setIndicator:this.setNotesIndicator,placeholder:null})})]})}}const Be={toggleNotificationsPanel:De.P,recordTracksEvent:B.jN},Je=(0,l.$j)((e=>({isNotificationsOpen:(0,xe.Z)(e),hasUnseenNotifications:Me(e)})),Be)(Fe),We=new Date(2022,3,14).getTime(),Ve="dismissible-card-masterbar-collapsable-menu-popover",Ge="<480px",Xe="<782px";var Ye=function(e){Promise.all([s.e(82430),s.e(26055),s.e(69779),s.e(70826)]).then(s.bind(s,"./layout/masterbar/checkout.tsx")).then((function(t){e(t.default)}))},Ke=function(e){Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(29911),s.e(3949),s.e(24565),s.e(7407)]).then(s.bind(s,"./layout/masterbar/quick-language-switcher.jsx")).then((function(t){e(t.default)}))},Qe=function(e){Promise.all([s.e(4557),s.e(16869),s.e(15561),s.e(84020)]).then(s.bind(s,"./layout/masterbar/publish.jsx")).then((function(t){e(t.default)}))},et=function(e){Promise.all([s.e(20880),s.e(26055),s.e(69779),s.e(69222),s.e(93564)]).then(s.bind(s,"./layout/masterbar/masterbar-cart/masterbar-cart-wrapper.tsx")).then((function(t){e(t.default)}))},tt=function(e){Promise.all([s.e(51306),s.e(56514)]).then(s.bind(s,"./layout/popup-search/index.js")).then((function(t){e(t.default)}))},st=function(e){Promise.all([s.e(82430),s.e(90513)]).then(s.bind(s,"./layout/masterbar/masterbar-help-center.jsx")).then((function(t){e(t.default)}))};class ot extends j.Component{constructor(...e){super(...e),(0,m.Z)(this,"state",{isActionSearchVisible:!1,isMenuOpen:!1,isMobile:(0,P.kV)(Ge),isResponsiveMenu:(0,P.kV)(Xe),menuBtnRef:null}),(0,m.Z)(this,"handleLayoutFocus",(e=>{e!==this.props.section?this.props.setNextLayoutFocus("sidebar"):"sidebar"===this.props.currentLayoutFocus?this.props.setNextLayoutFocus("content"):this.props.setNextLayoutFocus("sidebar")})),(0,m.Z)(this,"clickMySites",(()=>{this.props.recordTracksEvent("calypso_masterbar_my_sites_clicked"),this.handleLayoutFocus("sites"),this.props.activateNextLayoutFocus();const{migrationStatus:e,currentSelectedSiteId:t}=this.props;t&&"error"===e&&(this.props.updateSiteMigrationMeta(t,"inactive",null),ge.Z.req.post({path:`/sites/${t}/reset-migration`,apiNamespace:"wpcom/v2"}).catch((()=>{})))})),(0,m.Z)(this,"clickReader",(()=>{this.props.recordTracksEvent("calypso_masterbar_reader_clicked"),this.handleLayoutFocus("reader")})),(0,m.Z)(this,"clickMe",(()=>{this.props.recordTracksEvent("calypso_masterbar_me_clicked"),window.scrollTo(0,0),this.handleLayoutFocus("me")})),(0,m.Z)(this,"clickSearchActions",(()=>{this.props.recordTracksEvent("calypso_masterbar_search_actions_clicked"),this.handleLayoutFocus("search-actions"),this.setState({isActionSearchVisible:!0})})),(0,m.Z)(this,"onSearchActionsClose",(()=>{this.setState({isActionSearchVisible:!1})})),(0,m.Z)(this,"preloadMySites",(()=>{(0,je.MA)(this.props.domainOnlySite?"domains":"stats")})),(0,m.Z)(this,"preloadReader",(()=>{(0,je.MA)("reader")})),(0,m.Z)(this,"preloadMe",(()=>{(0,je.MA)("me")})),(0,m.Z)(this,"goToCheckout",(e=>{this.props.recordTracksEvent("calypso_masterbar_cart_go_to_checkout"),r()(`/checkout/${e}`)})),(0,m.Z)(this,"onRemoveCartProduct",((e="coupon")=>{this.props.recordTracksEvent("calypso_masterbar_cart_remove_product",{uuid:e})})),(0,m.Z)(this,"isActive",(e=>e===this.props.section&&!this.props.isNotificationsShowing)),(0,m.Z)(this,"wordpressIcon",(()=>"horizon.wordpress.com"===(0,o.ZP)("hostname")?"my-sites-horizon":"my-sites")),(0,m.Z)(this,"handleToggleMenu",(()=>{this.setState((e=>({isMenuOpen:!e.isMenuOpen})))})),(0,m.Z)(this,"dismissPopover",(()=>{this.props.savePreference(Ve,!0)}))}subscribeToViewPortChanges(){this.unsubscribeToViewPortChanges=(0,P.Sp)(Ge,(e=>this.setState({isMobile:e}))),this.unsubscribeResponsiveMenuViewPortChanges=(0,P.Sp)(Xe,(e=>this.setState({isResponsiveMenu:e})))}componentDidMount(){"true"===(0,pe.parse)(document.location.search.replace(/^\?/,""))?.openSidebar&&this.props.setNextLayoutFocus("sidebar"),this.actionSearchShortCutListener=()=>{event.ctrlKey&&event.shiftKey&&"F"===event.key&&this.clickSearchActions()},document.addEventListener("keydown",this.actionSearchShortCutListener),this.subscribeToViewPortChanges()}componentWillUnmount(){document.removeEventListener("keydown",this.actionSearchShortCutListener),this.unsubscribeToViewPortChanges?.(),this.unsubscribeResponsiveMenuViewPortChanges?.()}renderMySites(){const{domainOnlySite:e,hasMoreThanOneSite:t,siteSlug:s,translate:o,isCustomerHomeEnabled:n,section:i}=this.props,{isMenuOpen:a,isResponsiveMenu:r}=this.state,c=n?`/home/${s}`:(0,he.Zg)("day",s);let l=e?(0,ye.Hf)(s):c;"sites"===i&&r&&(l="");const d=this.state.isMobile&&this.props.isInEditor?"chevron-left":this.wordpressIcon();return(0,_.tZ)(Re.Z,{url:l,tipTarget:"my-sites",icon:d,onClick:this.clickMySites,isActive:this.isActive("sites")&&!a,tooltip:o("View a list of your sites and access their dashboards"),preloadSection:this.preloadMySites,children:o(t?"My Sites":"My Site",{comment:"Toolbar, must be shorter than ~12 chars"})})}renderCheckout(){const{isCheckoutPending:e,previousPath:t,currentSelectedSiteSlug:s,isJetpackNotAtomic:o,title:n,loadHelpCenterIcon:i}=this.props;return(0,_.tZ)(L.Z,{require:Ye,placeholder:null,title:n,isJetpackNotAtomic:o,previousPath:t,siteSlug:s,isLeavingAllowed:!e,loadHelpCenterIcon:i})}renderReader(){const{translate:e}=this.props;return(0,_.tZ)(Re.Z,{tipTarget:"reader",className:"masterbar__reader",url:"/read",icon:"reader",onClick:this.clickReader,isActive:this.isActive("reader"),tooltip:e("Read the blogs and topics you follow"),preloadSection:this.preloadReader,children:e("Reader",{comment:"Toolbar, must be shorter than ~12 chars"})})}renderLanguageSwitcher(){return this.props.isSupportSession||o.ZP.isEnabled("quick-language-switcher")?(0,_.tZ)(L.Z,{require:Ke,placeholder:null}):null}renderSearch(){const{translate:e,isWordPressActionSearchFeatureEnabled:t}=this.props;return t?(0,_.tZ)(Re.Z,{tipTarget:"Action Search",icon:"search",onClick:this.clickSearchActions,isActive:!1,className:"masterbar__item-action-search",tooltip:e("Search"),preloadSection:this.preloadMe,children:e("Search Actions")}):null}renderPublish(){const{domainOnlySite:e,translate:t,isMigrationInProgress:s,isEcommerce:o}=this.props;return e||s||o?null:(0,_.tZ)(L.Z,{require:Qe,placeholder:null,isActive:this.isActive("post"),className:"masterbar__item-new",tooltip:t("Create a New Post"),children:t("Write")})}renderCart(){const{currentSelectedSiteSlug:e,currentSelectedSiteId:t,sectionGroup:s}=this.props;return"sites"!==s?null:(0,_.tZ)(L.Z,{require:et,placeholder:null,goToCheckout:this.goToCheckout,onRemoveProduct:this.onRemoveCartProduct,onRemoveCoupon:this.onRemoveCartProduct,selectedSiteSlug:e,selectedSiteId:t})}renderMe(){const{isMobile:e}=this.state,{translate:t,user:s}=this.props;return(0,_.BX)(Re.Z,{tipTarget:"me",url:"/me",icon:e?null:"user-circle",onClick:this.clickMe,isActive:this.isActive("me"),className:"masterbar__item-me",tooltip:t("Update your profile, personal settings, and more"),preloadSection:this.preloadMe,children:[(0,_.tZ)(H.Z,{className:"masterbar__item-me-gravatar",user:s,alt:t("My Profile"),size:18}),(0,_.tZ)("span",{className:"masterbar__item-me-label",children:t("My Profile",{context:"Toolbar, must be shorter than ~12 chars"})})]})}renderNotifications(){const{translate:e}=this.props;return(0,_.tZ)(Je,{isShowing:this.props.isNotificationsShowing,isActive:this.isActive("notifications"),className:"masterbar__item-notifications",tooltip:e("Manage your notifications"),children:(0,_.tZ)("span",{className:"masterbar__item-notifications-label",children:e("Notifications",{comment:"Toolbar, must be shorter than ~12 chars"})})})}renderMenu(){const{menuBtnRef:e}=this.state,{translate:t,hasDismissedThePopover:s,isFetchingPrefs:o,isUserNewerThanNewNavigation:n}=this.props;return(0,_.BX)(_.HY,{children:[(0,_.tZ)(Re.Z,{tipTarget:"Menu",icon:"menu",onClick:this.handleToggleMenu,isActive:this.state.isMenuOpen,className:"masterbar__item-menu",tooltip:t("Menu"),ref:t=>t!==e&&this.setState({menuBtnRef:t})}),(0,_.BX)($e,{onClose:this.handleToggleMenu,open:this.state.isMenuOpen,children:[this.renderPublish(),this.renderReader(),this.renderMe()]}),e&&(0,_.tZ)(de.Z,{className:"masterbar__new-menu-popover",isVisible:!o&&!s&&!n,context:e,onClose:this.dismissPopover,position:"bottom left",showDelay:500,children:(0,_.BX)("div",{className:"masterbar__new-menu-popover-inner",children:[(0,_.tZ)("h1",{children:t("👆 New top navigation",{comment:"This is a popover title under the masterbar"})}),(0,_.tZ)("p",{children:t("We changed the navigation for a cleaner experience.")}),(0,_.tZ)("div",{className:"masterbar__new-menu-popover-actions",children:(0,_.tZ)(ue.Z,{onClick:this.dismissPopover,children:t("Got it",{comment:"Got it, as in OK"})})})]})})]})}renderPopupSearch(){const e=o.ZP.isEnabled("wordpress-action-search"),{isActionSearchVisible:t}=this.state;return e&&t?(0,_.tZ)(L.Z,{require:tt,placeholder:null,onClose:this.onSearchActionsClose}):null}renderHelpCenter(){const{currentSelectedSiteId:e,translate:t}=this.props;return(0,_.tZ)(L.Z,{require:st,siteId:e,tooltip:t("Help"),placeholder:null})}render(){const{isInEditor:e,isCheckout:t,isCheckoutPending:s,loadHelpCenterIcon:o}=this.props,{isMobile:n}=this.state;return t||s?this.renderCheckout():n?e&&o?(0,_.BX)(X.Z,{children:[(0,_.tZ)("div",{className:"masterbar__section masterbar__section--left",children:this.renderMySites()}),(0,_.tZ)("div",{className:"masterbar__section masterbar__section--right",children:this.renderHelpCenter()})]}):(0,_.BX)(_.HY,{children:[this.renderPopupSearch(),(0,_.BX)(X.Z,{children:[(0,_.BX)("div",{className:"masterbar__section masterbar__section--left",children:[this.renderMySites(),this.renderLanguageSwitcher(),this.renderSearch()]}),(0,_.BX)("div",{className:"masterbar__section masterbar__section--right",children:[this.renderCart(),this.renderNotifications(),o&&this.renderHelpCenter(),this.renderMenu()]})]})]}):(0,_.BX)(_.HY,{children:[this.renderPopupSearch(),(0,_.BX)(X.Z,{children:[(0,_.BX)("div",{className:"masterbar__section masterbar__section--left",children:[this.renderMySites(),this.renderReader(),this.renderLanguageSwitcher(),this.renderSearch()]}),(0,_.tZ)("div",{className:"masterbar__section masterbar__section--center",children:this.renderPublish()}),(0,_.BX)("div",{className:"masterbar__section masterbar__section--right",children:[this.renderCart(),this.renderMe(),o&&this.renderHelpCenter(),this.renderNotifications()]})]})]})}}const nt=(0,l.$j)((e=>{const t=(0,Te.Z)(e),s=(0,V.Z)(e),o=s||(0,we.Z)(e),n=(0,Ce.Z)(e,o),i=(0,Pe.Z)(e,s)||(0,Se.Z)(e);return{isCustomerHomeEnabled:(0,Le.Z)(e,o),isNotificationsShowing:(0,xe.Z)(e),isEcommerce:(0,le.LK)(n),siteSlug:(0,Ne.Z)(e,o),sectionGroup:t,domainOnlySite:(0,ke.Z)(e,o),hasMoreThanOneSite:(0,W.bo)(e)>1,user:(0,W.ts)(e),isSupportSession:(0,Oe.o)(e),isInEditor:"gutenberg-editor"===(0,ie.Z)(e),isMigrationInProgress:i,migrationStatus:(0,ve.Z)(e,s),currentSelectedSiteId:s,currentSelectedSiteSlug:s?(0,Ne.Z)(e,s):void 0,previousPath:(0,_e.Z)(e),isJetpackNotAtomic:(0,Ie.Z)(e,s)&&!(0,Ze.Z)(e,s),currentLayoutFocus:(0,ee.d)(e),hasDismissedThePopover:(0,be.Oz)(e,Ve),isFetchingPrefs:(0,be.rf)(e),isUserNewerThanNewNavigation:new Date((0,W.DI)(e)).getTime()>We}}),{setNextLayoutFocus:Q.SB,recordTracksEvent:B.jN,updateSiteMigrationMeta:Ee.Fj,activateNextLayoutFocus:Q.zW,savePreference:fe.zZ})((0,me.Z)(ot)),it=()=>(0,_.BX)("span",{className:"offline-status",children:[(0,_.tZ)("svg",{className:"gridicon",height:18,width:18,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.tZ)("g",{children:(0,_.tZ)("path",{d:"M12.736 3.184L7.834 12.57l5.106.035-2.592 7.904 7.265-10.502-5.65.083.773-6.906z"})})}),"Offline"]});var at=s("./lib/jetpack/is-jetpack-cloud.ts"),rt=s("./lib/mobile-app/index.js"),ct=s("./lib/oauth2-clients.js"),lt=s("./lib/user/verification-checker.js");s("./state/application/init.js");function dt(e){return"OFFLINE"===e.application.connectionState}var ut=s("./state/happychat/selectors/has-active-happychat-session.js"),mt=s("./state/happychat/selectors/is-happychat-open.js"),pt=s("./state/oauth2-clients/ui/selectors.js"),ht=s("./state/ui/selectors/masterbar-is-visible.js"),gt=s("./state/ui/selectors/sidebar-visibility.js"),yt=s("./layout/body-section-css-class.js"),jt=s("./components/pulsing-dot/index.jsx"),ft=s("./state/ui/selectors/is-section-loading.js");function bt(){const e=(0,l.v9)(ft.Z);return(0,_.tZ)("div",{className:I()("layout__loader",{"is-active":e}),children:e&&(0,_.tZ)(jt.Z,{delay:400,active:!0})})}let _t=0,wt=0,vt=!0,kt=!1,xt=!1;const Zt=e=>{if(xt)return;const t=window.innerHeight,s=document.getElementById("content"),o=s?.scrollHeight,n=document.getElementById("secondary"),i=n?.scrollHeight,a=document.getElementById("header")?.getBoundingClientRect().height;s&&o&&a&&i&&(o<i&&(s.style.minHeight=i+a+"px"),t>=i+a&&s&&n&&("initial"!==s.style.minHeight||n.style.position)&&(s.style.minHeight="initial",n.removeAttribute("style"))),n&&void 0!==i&&void 0!==a&&(i+a>t||"resize"===e.type)&&(window.requestAnimationFrame((function(){const e=i+a-t,s=-document.body.getBoundingClientRect().top;return s<0?(vt||(vt=!0,kt=!1,n.style.position="fixed",n.style.top="0",n.style.bottom="0"),void(xt=!1)):s+t>document.body.scrollHeight-1?(kt||(kt=!0,vt=!1,n.style.position="fixed",n.style.top="inherit",n.style.bottom="0"),void(xt=!1)):(s>=_t?vt?(vt=!1,wt=a,s>e&&(wt+=s),n.style.position="absolute",n.style.top=`${wt}px`,n.style.bottom="inherit"):!kt&&s+a>e+n.offsetTop&&(kt=!0,n.style.position="fixed",n.style.top="inherit",n.style.bottom="0"):s<_t&&(kt?(kt=!1,wt=Math.max(0,s+a-e),o===i+a&&(wt=a),n.style.position="absolute",n.style.top=`${wt}px`,n.style.bottom="inherit"):!vt&&s+a<wt&&(vt=!0,wt=a,n.style.position="fixed",n.style.top=`${wt}px`,n.style.bottom="inherit")),_t=s,void(xt=!1))})),xt=!0)},St=Z.z();function Pt(){const e=!(0,E.Gc)("<660px")&&!o.ZP.isEnabled("jetpack-cloud");return(0,j.useEffect)((()=>(e&&(window.addEventListener("scroll",Zt),window.addEventListener("resize",Zt)),()=>{e&&(window.removeEventListener("scroll",Zt),window.removeEventListener("resize",Zt),document.getElementById("content")?.removeAttribute("style"),document.getElementById("secondary")?.removeAttribute("style"))})),[e]),null}var Et=function(e){Promise.all([s.e(90532),s.e(30788),s.e(71539),s.e(43400),s.e(4289),s.e(29911),s.e(82430),s.e(41563),s.e(23683),s.e(15050),s.e(12444),s.e(64910),s.e(49923),s.e(19670),s.e(16869),s.e(51306),s.e(27373),s.e(19414),s.e(9408),s.e(21923),s.e(16485),s.e(18112)]).then(s.bind(s,"../packages/help-center/src/index.ts")).then((function(t){e(t.default)}))};function Ct({sectionName:e,loadHelpCenter:t}){const{setShowHelpCenter:s}=(0,C.Z)(St),o=(0,E.Gc)(">782px");return t?(0,_.tZ)(L.Z,{require:Et,placeholder:null,handleClose:()=>{s(!1)},hidden:"gutenberg-editor"===e&&o}):null}function Nt({layoutFocus:e}){const t=e=>{const t=document.querySelector("body").classList;e?t.add("is-sidebar-overflow"):t.remove("is-sidebar-overflow")};return(0,j.useEffect)((()=>{"sites"!==e?setTimeout((()=>{t(!0)}),500):t(!1)}),[e]),null}var It=function(e){s.e(40139).then(s.bind(s,"./layout/guided-tours/index.js")).then((function(t){e(t.default)}))},Lt=function(e){s.e(24799).then(s.bind(s,"./jetpack-cloud/style.tsx")).then((function(t){e(t.default)}))},Ot=function(e){s.e(33743).then(s.bind(s,"./blocks/jitm/index.jsx")).then((function(t){e(t.default)}))},Tt=function(e){s.e(39675).then(s.bind(s,"./components/global-notices/index.jsx")).then((function(t){e(t.default)}))},Rt=function(e){s.e(47577).then(s.bind(s,"./layout/community-translator/index.jsx")).then((function(t){e(t.default)}))},$t=function(e){Promise.all([s.e(36420),s.e(23573)]).then(s.bind(s,"./components/happychat/index.jsx")).then((function(t){e(t.default)}))},At=function(e){s.e(55400).then(s.bind(s,"./blocks/inline-help/index.jsx")).then((function(t){e(t.default)}))},qt=function(e){s.e(28945).then(s.bind(s,"./components/happychat/button.jsx")).then((function(t){e(t.default)}))},Mt=function(e){s.e(26561).then(s.bind(s,"./blocks/support-article-dialog/index.jsx")).then((function(t){e(t.default)}))},zt=function(e){Promise.all([s.e(68804),s.e(20275),s.e(3765)]).then(s.bind(s,"./blocks/app-banner/index.jsx")).then((function(t){e(t.default)}))},Dt=function(e){Promise.resolve().then(s.bind(s,"./blocks/gdpr-banner/index.jsx")).then((function(t){e(t.default)}))},Ut=function(e){s.e(45149).then(s.bind(s,"./blocks/legal-updates-banner/index.js")).then((function(t){e(t.default)}))};class Ht extends j.Component{componentDidMount(){if(o.ZP.isEnabled("me/account/color-scheme-picker")&&"undefined"!=typeof document&&this.props.colorSchemePreference){document.querySelector("body").classList.add(`is-${this.props.colorSchemePreference}`);const e=getComputedStyle(document.body).getPropertyValue("--color-masterbar-background").trim(),t=document.querySelector('meta[name="theme-color"]');t&&!t.content&&(t.content=e,t.setAttribute("data-colorscheme","true"))}}componentDidUpdate(e){if(o.ZP.isEnabled("me/account/color-scheme-picker")&&e.colorSchemePreference!==this.props.colorSchemePreference&&"undefined"!=typeof document){const t=document.querySelector("body").classList;t.remove(`is-${e.colorSchemePreference}`),t.add(`is-${this.props.colorSchemePreference}`);const s=getComputedStyle(document.body).getPropertyValue("--color-masterbar-background").trim(),o=document.querySelector('meta[name="theme-color"]');o&&"true"===o.getAttribute("data-colorscheme")&&(o.content=s)}}shouldShowHappyChatButton(){if(!o.ZP.isEnabled("happychat"))return!1;if((0,rt.H)())return!1;if(!this.props.hasActiveHappyChat)return!1;return!["happychat","devdocs"].includes(this.props.sectionName)&&!["/log-in/jetpack"].includes(this.props.currentRoute)&&!["/start/p2"].some((e=>this.props.currentRoute.startsWith(e)))}renderMasterbar(e){if(this.props.masterbarIsHidden)return(0,_.tZ)(ce,{});const t=o.ZP.isEnabled("jetpack-cloud")?se:nt;return(0,_.tZ)(t,{section:this.props.sectionGroup,isCheckout:"checkout"===this.props.sectionName,isCheckoutPending:"checkout-pending"===this.props.sectionName,loadHelpCenterIcon:e})}render(){const e=I()("layout",`focus-${this.props.currentLayoutFocus}`,{["is-group-"+this.props.sectionGroup]:this.props.sectionGroup,["is-section-"+this.props.sectionName]:this.props.sectionName,"is-support-session":this.props.isSupportSession,"has-no-sidebar":this.props.sidebarIsHidden,"has-docked-chat":this.props.chatIsOpen&&this.props.chatIsDocked,"has-no-masterbar":this.props.masterbarIsHidden,"is-jetpack-login":this.props.isJetpackLogin,"is-jetpack-site":this.props.isJetpack,"is-jetpack-mobile-flow":this.props.isJetpackMobileFlow,"is-jetpack-woocommerce-flow":this.props.isJetpackWooCommerceFlow,"is-jetpack-woo-dna-flow":this.props.isJetpackWooDnaFlow,"is-wccom-oauth-flow":(0,ct.dS)(this.props.oauth2Client)&&this.props.wccomFrom}),t=(["home","help"].includes(this.props.sectionName)||(0,S.y)(this.props.sectionName,this.props.currentRoute))&&this.props.userAllowedToHelpCenter,s=o.ZP.isEnabled("inline-help")&&(0,S.y)(this.props.sectionName,this.props.currentRoute)&&!t;return(0,_.BX)("div",{className:e,children:[(0,_.tZ)(Ct,{sectionName:this.props.sectionName,loadHelpCenter:t}),(0,_.tZ)(Pt,{layoutFocus:this.props.currentLayoutFocus}),(0,_.tZ)(Nt,{layoutFocus:this.props.currentLayoutFocus}),(0,_.tZ)(yt.Z,{layoutFocus:this.props.currentLayoutFocus,group:this.props.sectionGroup,section:this.props.sectionName,...(()=>{const e=["font-smoothing-antialiased"];return this.props.sidebarIsCollapsed&&(0,P.kV)(">800px")&&e.push("is-sidebar-collapsed"),{bodyClass:e}})()}),(0,_.tZ)(re,{}),(0,_.tZ)(O.Z,{}),(0,_.tZ)(z.Z,{primaryAndRecent:!o.ZP.isEnabled("jetpack-cloud")}),this.props.shouldQueryAllSites&&(0,_.tZ)(z.Z,{allSites:!0}),(0,_.tZ)(T.Z,{}),(0,_.tZ)(R.Z,{siteIds:[this.props.siteId]}),o.ZP.isEnabled("layout/query-selected-editor")&&(0,_.tZ)(M,{siteId:this.props.siteId}),(0,_.tZ)(lt.Z,{}),o.ZP.isEnabled("layout/guided-tours")&&(0,_.tZ)(L.Z,{require:It,placeholder:null}),this.renderMasterbar(t),(0,_.tZ)(bt,{}),(0,at.Z)()&&(0,_.tZ)(L.Z,{require:Lt,placeholder:null}),this.props.isOffline&&(0,_.tZ)(it,{}),(0,_.BX)("div",{id:"content",className:"layout__content",children:[o.ZP.isEnabled("jitms")&&this.props.isEligibleForJITM&&(0,_.tZ)(L.Z,{require:Ot,placeholder:null,messagePath:`calypso:${this.props.sectionJitmPath}:admin_notices`}),(0,_.tZ)(L.Z,{require:Tt,placeholder:null,id:"notices"}),(0,_.tZ)("div",{id:"secondary",className:"layout__secondary",role:"navigation",children:this.props.secondary}),(0,_.tZ)("div",{id:"primary",className:"layout__primary",children:this.props.primary})]}),(0,_.tZ)(L.Z,{require:Rt,placeholder:null}),o.ZP.isEnabled("happychat")&&this.props.chatIsOpen&&(0,_.tZ)(L.Z,{require:$t}),!1,s&&(0,_.tZ)(L.Z,{require:At,placeholder:null}),this.shouldShowHappyChatButton()&&(0,_.tZ)(L.Z,{require:qt,placeholder:null,allowMobileRedirect:!0,borderless:!1,floating:!0,withOffset:s}),o.ZP.isEnabled("layout/support-article-dialog")&&(0,_.tZ)(L.Z,{require:Mt,placeholder:null}),o.ZP.isEnabled("layout/app-banner")&&(0,_.tZ)(L.Z,{require:zt,placeholder:null}),o.ZP.isEnabled("gdpr-banner")&&(0,_.tZ)(L.Z,{require:Dt,placeholder:null}),o.ZP.isEnabled("legal-updates-banner")&&(0,_.tZ)(L.Z,{require:Ut,placeholder:null})]})}}const Ft=(0,x.CA)((0,l.$j)(((e,{currentSection:t,currentRoute:s,currentQuery:n,secondary:i})=>{const a=t?.group??null,r=t?.name??null,c=(0,V.Z)(e),l=(0,he.cu)(s),d=s.startsWith("/log-in/jetpack"),u=(0,Ie.Z)(e,c)&&!(0,Ze.Z)(e,c)||s.startsWith("/checkout/jetpack"),m=d||"/me/account/closed"===s,p=["signup","jetpack-connect"].includes(r),h=!(0,ht.Z)(e)||p||m||(0,rt.H)()||(0,rt.T)(),g="jetpack-connect"===r&&!!(0,oe.h8)(),y=["jetpack-connect","login"].includes(r)&&"woocommerce-onboarding"===n?.from,j=["jetpack-connect","login"].includes(r)&&(0,ne.Z)(n).isWooDnaFlow(),f=(0,pt.op)(e),b=n?.["wccom-from"],_=["home","stats","plans","themes","plugins","comments"].includes(r),w=!i||(0,rt.T)(),v=!["reader","theme"].includes(r)&&!w,k=o.ZP.isEnabled("calypso/help-center")&&(0,S.Q)((0,W.rc)(e));return{masterbarIsHidden:h,sidebarIsHidden:w,isJetpack:u,isJetpackLogin:d,isJetpackWooCommerceFlow:y,isJetpackWooDnaFlow:j,isJetpackMobileFlow:g,isEligibleForJITM:_,oauth2Client:f,wccomFrom:b,isSupportSession:(0,Oe.o)(e),sectionGroup:a,sectionName:r,sectionJitmPath:l,isOffline:dt(e),currentLayoutFocus:(0,ee.d)(e),chatIsOpen:(0,mt.Z)(e),chatIsDocked:v,hasActiveHappyChat:(0,ut.Z)(e),colorSchemePreference:(0,be.Oz)(e,"colorScheme"),siteId:c,shouldQueryAllSites:s&&"/jetpack/connect/authorize"!==s,sidebarIsCollapsed:"reader"!==r&&(0,gt.Z)(e),userAllowedToHelpCenter:k}}))(Ht));var Bt=s("./layout/logged-out.jsx"),Jt=s("./lib/paths/index.js"),Wt=s("./lib/react-query-devtools-helper/index.jsx"),Vt=s("./state/immediate-login/selectors.js"),Gt=s("./controller/shared.js"),Xt=s("./controller/web-util.js");const Yt=({store:e,queryClient:t,currentSection:s,currentRoute:o,currentQuery:n,primary:i,secondary:a,redirectUri:r})=>{const u=e.getState(),m=(0,W.Pc)(u)?(0,_.tZ)(Ft,{primary:i,secondary:a}):(0,_.tZ)(Bt.Z,{primary:i,secondary:a,redirectUri:r});return(0,_.tZ)(d.Z,{children:(0,_.tZ)(x.nY,{currentSection:s,currentRoute:o,currentQuery:n,children:(0,_.BX)(c.QueryClientProvider,{client:t,children:[(0,_.tZ)(l.zt,{store:e,children:(0,_.tZ)(k,{children:m})}),(0,_.tZ)(Wt.CalypsoReactQueryDevtools,{})]})})})},Kt=(0,Gt.n6)(Yt);function Qt(e){(!o.ZP.isEnabled("wpcom-user-bootstrap")&&(0,W.Pc)(e.store.getState())?Xt.s:Xt.Z)(e)}function es(e,...t){r()(e,...t,Qt)}function ts(e,t){const s=e.store.getState();if(!(0,W.Pc)(s)){const{site:t,blog:o,blog_id:n}=e.params,i=t||o||n||(0,he.lQ)(e.path),a={redirectTo:e.path,site:i},r=(0,Vt.Yh)(s);r&&(a.emailAddress=r);const c=(0,Vt.j4)(s);return c&&(a.locale=c),void(window.location=(0,Jt.x4)(a))}t()}function ss(e,t){const s=(0,n.aK)(),o=new RegExp(`\\/(${s.join("|")})(\\/|\\?|$)`),i=e.path.replace(o,"$2");if((0,W.Pc)(e.store.getState())&&i!==e.path)return r().redirect(i);t()}const os=(e,t)=>{e.primary=(0,_.tZ)(u.Z,{className:"content-404",illustration:"/calypso/images/illustrations/illustration-404.svg",title:(0,i.Iu)("Uh oh. Page not found."),line:(0,i.Iu)("Sorry, the page you were looking for doesn't exist or has been moved.")}),t()}},"./jetpack-connect/persistence-utils.js":(e,t,s)=>{"use strict";s.d(t,{R2:()=>c,WA:()=>l,fX:()=>d,En:()=>u,ms:()=>m,Rf:()=>p,_i:()=>h,NB:()=>g,h8:()=>y,Zt:()=>j,pf:()=>f,Gh:()=>b});var o=s("../node_modules/cookie/index.js"),n=s("./lib/url/http-utils.ts"),i=s("./state/jetpack-connect/constants.js");const a="jetpack_connect_selected_plan",r="jetpack_connect_source",c=e=>{window.sessionStorage.setItem(a,e)},l=()=>{window.sessionStorage.removeItem(a)},d=()=>window.sessionStorage.getItem(a),u=e=>{const t={maxAge:i.e4,path:"/"};document.cookie=o.serialize("jetpack_connect_session_url",(0,n.nq)(e),t)},m=e=>o.parse(document.cookie).jetpack_connect_session_url===(0,n.nq)(e),p=e=>{document.cookie=o.serialize("jetpack_sso_approved",e,{maxAge:300,path:"/"})},h=e=>{const t=o.parse(document.cookie);return e===parseInt(t.jetpack_sso_approved,10)},g=e=>{document.cookie=o.serialize("jetpack_connect_mobile_redirect",e,{path:"/"})},y=()=>o.parse(document.cookie).jetpack_connect_mobile_redirect,j=e=>{window.sessionStorage.setItem(r,e)},f=()=>{window.sessionStorage.removeItem(r)},b=()=>window.sessionStorage.getItem(r)},"./lib/catch-js-errors/log.js":(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var o=s("../node_modules/debug/src/browser.js");s.n(o)()("calypso:catch-js-errors:log");let n=null;function i(e){n=e}},"./lib/detect-history-navigation/index.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let o=!1;const n={start:function(){window.addEventListener("popstate",(function(e){o=!!e.state}))},loadedViaHistory:function(){return o}}},"./lib/jetpack/use-track-callback.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/react/index.js"),n=s("../node_modules/react-redux/es/index.js"),i=s("./state/analytics/actions/record.js"),a=s("./state/ui/selectors/get-selected-site-id.js");const r=()=>{},c=(e=r,t,s={})=>{const c=(0,n.I0)(),l=(0,n.v9)(a.Z);return(0,o.useCallback)(((...o)=>{c((0,i.jN)(t,{site_id:l,...s})),e(...o)}),[e,t,c,l])}},"./lib/performance-tracking/index.web.ts":(e,t,s)=>{"use strict";s.d(t,{aO:()=>q,yD:()=>O,B_:()=>z,ZW:()=>D});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js");let n=!1;const i=()=>{"hidden"===document.visibilityState&&(n=!0)},a=e=>("hidden"===document.visibilityState?n=!0:document.addEventListener("visibilitychange",i),e),r=e=>(document.removeEventListener("visibilitychange",i),e.data.set("hidden",n),e),c=e=>(e.data.set("memory",(()=>{const e=window?.navigator;return e?.deviceMemory})()),e),l=e=>(e.data.set("version",window?.COMMIT_SHA),e.data.set("target",window?.BUILD_TARGET),e.data.set("env",window?.configData?.env_id),e),d=e=>(e.data.set("network",window.navigator?.connection?.effectiveType),e),u=()=>window?.performance?.timing?.navigationStart,m=()=>window?.performance?.timing?.domContentLoadedEventStart,p=e=>(e.beginning=u(),e.data.set("fullPage",!0),e),h=(e,t)=>0===e?0:e-t,g=e=>(e.data.set("navigationStart",h(u(),e.beginning)),e.data.set("unloadEventStart",h(window?.performance?.timing?.unloadEventStart,e.beginning)),e.data.set("unloadEventEnd",h(window?.performance?.timing?.unloadEventEnd,e.beginning)),e.data.set("redirectStart",h(window?.performance?.timing?.redirectStart,e.beginning)),e.data.set("redirectEnd",h(window?.performance?.timing?.redirectEnd,e.beginning)),e.data.set("fetchStart",h(window?.performance?.timing?.fetchStart,e.beginning)),e.data.set("domainLookupStart",h(window?.performance?.timing?.domainLookupStart,e.beginning)),e.data.set("domainLookupEnd",h(window?.performance?.timing?.domainLookupEnd,e.beginning)),e.data.set("connectStart",h(window?.performance?.timing?.connectStart,e.beginning)),e.data.set("connectEnd",h(window?.performance?.timing?.connectEnd,e.beginning)),e.data.set("secureConnectionStart",h(window?.performance?.timing?.secureConnectionStart,e.beginning)),e.data.set("requestStart",h(window?.performance?.timing?.requestStart,e.beginning)),e.data.set("responseStart",h(window?.performance?.timing?.responseStart,e.beginning)),e.data.set("responseEnd",h(window?.performance?.timing?.responseEnd,e.beginning)),e.data.set("domLoading",h(window?.performance?.timing?.domLoading,e.beginning)),e.data.set("domInteractive",h(window?.performance?.timing?.domInteractive,e.beginning)),e.data.set("domContentLoadedEventStart",h(m(),e.beginning)),e.data.set("domContentLoadedEventEnd",h(window?.performance?.timing?.domContentLoadedEventEnd,e.beginning)),e.data.set("domComplete",h(window?.performance?.timing?.domComplete,e.beginning)),e.data.set("loadEventStart",h(window?.performance?.timing?.loadEventStart,e.beginning)),e.data.set("loadEventEnd",h(window?.performance?.timing?.loadEventEnd,e.beginning)),e),y=e=>{const t=m()-u();if(t<=0)return e;const s=(window?.performance?.getEntriesByType("resource")||[]).filter((e=>"script"===e.initiatorType&&e.responseEnd<=t&&e.decodedBodySize>0)),o=s.length,{start:n,end:i}=s.reduce((({start:e,end:t},s)=>({start:Math.min(e,s.requestStart),end:Math.max(t,s.responseEnd)})),{start:1/0,end:-1/0}),{resourcesCompressed:a,resourcesUncompressed:r,resourcesTransferred:c}=s.reduce(((e,t)=>({resourcesCompressed:e.resourcesCompressed+t.encodedBodySize,resourcesUncompressed:e.resourcesUncompressed+t.decodedBodySize,resourcesTransferred:e.resourcesTransferred+t.transferSize})),{resourcesCompressed:0,resourcesUncompressed:0,resourcesTransferred:0}),l=100-Math.round(100*Math.min(1,c/a));return e.data.set("resourcesCount",o),e.data.set("resourcesStart",Math.round(n)),e.data.set("resourcesEnd",Math.round(i)),e.data.set("resourcesCompressed",a),e.data.set("resourcesUncompressed",r),e.data.set("resourcesTransferred",c),e.data.set("resourcesCacheRatio",l),e},j=e=>(e.beginning=Date.now(),e.data.set("fullPage",!1),e);class f{static async fromNow(e,t=[]){const s=new f(e,!1);return await s.start(t),s}static async fromPageStart(e,t=[]){const s=new f(e,!0);return await s.start(t),s}constructor(e,t){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"beginning",void 0),(0,o.Z)(this,"end",void 0),(0,o.Z)(this,"data",new Map),(0,o.Z)(this,"startCollectors",void 0),(0,o.Z)(this,"stopCollectors",void 0),this.id=e;const s=[a],n=[c,l,r,d];t?(this.startCollectors=[p,...s],this.stopCollectors=[g,y,...n]):(this.startCollectors=[j,...s],this.stopCollectors=[...n])}async runCollectors(e){return Promise.all(e.map(((e,t)=>{try{return e(this)}catch(e){return console.warn(`Collector #${t} for report ${this.id} failed to run`,e),null}})))}async start(e=[]){return await this.runCollectors([...this.startCollectors,...e]),this}async stop(e=[]){this.end=Date.now(),await this.runCollectors([...this.stopCollectors,...e]);const t=Array.from(this.data.entries()).reduce(((e,[t,s])=>({...e,[t]:s})),{});return{id:this.id,duration:this.end-this.beginning,...t}}}var b=s("../packages/wpcom-proxy-request/src/index.js");const _=new Map,w=async(e,{collectors:t=[]}={})=>{const s=_.get(e);if(!s)return!1;_.delete(e);const o=await s;return(async e=>(0,b.ZP)({method:"POST",apiVersion:"1.1",path:"/logstash",body:{params:JSON.stringify({feature:"calypso_client",message:"perf.nav",properties:e})}}))(await o.stop(t))};var v=s("../packages/calypso-config/src/index.ts"),k=s("./state/current-user/selectors.js"),x=s("./state/selectors/is-site-wpcom-atomic.js"),Z=s("./state/sites/selectors/is-jetpack-site.ts"),S=s("./state/sites/selectors/is-single-user-site.js"),P=s("./state/ui/selectors/get-selected-site-id.js");const E=e=>{const t=(0,P.Z)(e),s=(0,Z.Z)(e,t),o=(0,S.Z)(e,t),n=(0,x.Z)(e,t),i=(0,k.bo)(e),a=(0,k.f0)(e),r=(0,k.Yv)(e),c=(0,k.DV)(e),l=(0,k.Mg)(e),{count:d,total:u}=(()=>{const e=window.performance?.getEntriesByName?.("add_translations")||[];return{count:e.length,total:Math.round(e.reduce(((e,t)=>e+t.duration),0))}})();return window.performance?.clearMeasures?.("add_translations"),e=>{e.data.set("siteId",t),e.data.set("siteIsJetpack",s),e.data.set("siteIsSingleUser",o),e.data.set("siteIsAtomic",n),e.data.set("sitesCount",i),e.data.set("sitesVisibleCount",a),e.data.set("userCountryCode",r),e.data.set("userBootstrapped",c),e.data.set("userLocale",l),e.data.set("translationsChunksDuration",u),e.data.set("translationsChunksCount",d)}},C=(e={})=>t=>{Object.entries(e).forEach((([e,s])=>t.data.set(e,s)))},N=()=>v.ZP.isEnabled("rum-tracking/logstash"),I=(e,{fullPageLoad:t=!1}={})=>{N()&&(async(e,{fullPageLoad:t=!0,collectors:s=[]}={})=>{if(_.has(e))return;const o=t?f.fromPageStart(e,s):f.fromNow(e,s);_.set(e,o)})(e,{fullPageLoad:t})},L=(e,{state:t={},metadata:s={}}={})=>{N()&&w(e,{collectors:[E(t),C(s)]})},O=e=>(t,s)=>{I(e,{fullPageLoad:t.init??!1}),s()};var T=s("../node_modules/react/index.js"),R=s("../node_modules/react-redux/es/index.js"),$=s("./state/ui/selectors/get-section-name.js");var A=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js");const q=()=>(function(){const e=(0,R.v9)($.Z),t=(0,R.oR)();(0,T.useLayoutEffect)((()=>{requestAnimationFrame((()=>{L(e,{state:t.getState()})}))}),[e,t])}(),null);var M=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const z=(0,A.o)((e=>function(t){return(0,M.BX)(M.HY,{children:[(0,M.tZ)(e,{...t}),(0,M.tZ)(q,{})]})}),"WithPerformanceTrackerStop"),D=(0,R.$j)(null,{stopPerformanceTracking:(e={})=>(t,s)=>{const o=s(),n=(0,$.Z)(o);L(n,{state:o,metadata:e})}})},"./lib/protect-form/index.tsx":(e,t,s)=>{"use strict";s.d(t,{cG:()=>g,TW:()=>y,K8:()=>j,bw:()=>f});var o=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),n=s("../node_modules/debug/src/browser.js"),i=s.n(n),a=s("../packages/i18n-calypso/src/index.js"),r=s("../node_modules/page/page.js"),c=s.n(r),l=s("../node_modules/react/index.js"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=i()("calypso:protect-form");let m=new Set,p=0;function h(e){if(!m.size)return;u("unsaved form changes detected");const t=a.ZP.translate("You have unsaved changes.");return(e||window.event).returnValue=t,t}const g=()=>{const e=(0,l.useRef)([]),t=(0,l.useCallback)((()=>function(e){m.delete(e)}(e.current)),[]),s=(0,l.useCallback)((()=>function(e){m.add(e)}(e.current)),[]);return(0,l.useEffect)((()=>(0===p&&"undefined"!=typeof window&&window.addEventListener("beforeunload",h),p++,()=>{p--,0===p&&"undefined"!=typeof window&&window.removeEventListener("beforeunload",h),t()})),[t]),{markChanged:s,markSaved:t}},y=(0,o.o)((e=>t=>{const{markChanged:s,markSaved:o}=g(),n={...t,markChanged:s,markSaved:o};return(0,d.tZ)(e,{...n})}),"protectForm"),j=({isChanged:e})=>{const{markChanged:t,markSaved:s}=g();return(0,l.useEffect)((()=>{if(e)return t(),()=>s()}),[e,t,s]),null};const f=(e,t)=>{if(!m.size)return t();if(u("unsaved form changes detected"),function(){if("undefined"==typeof window)return!0;const e=a.ZP.translate("You have unsaved changes. Are you sure you want to leave this page?",{textOnly:!0});return window.confirm(e)}())m=new Set,t();else{const t=e.canonicalPath;setTimeout((function(){c().replace(t,null,!1,!1)}),0)}}},"./lib/react-query-devtools-helper/index.jsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{CalypsoReactQueryDevtools:()=>d,default:()=>m});var o=s("../packages/calypso-config/src/index.ts"),n=s("../node_modules/react/index.js"),i=s("../node_modules/react-dom/index.js"),a=s("../node_modules/react-query/devtools/index.js"),r=s("./lib/browser-storage/index.ts"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(){const[e,t]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,r.Wq)("enable-react-query-devtools").then((e=>t(e??!1)))}),[]);return[e,async e=>{await(0,r.EV)("enable-react-query-devtools",e),t(e)}]}function d(){const[e]=l();return o.ZP.isEnabled("dev/react-query-devtools")&&e?(0,c.tZ)(a.ReactQueryDevtools,{}):null}function u(){const[e,t]=l();return(0,c.BX)(c.HY,{children:[(0,c.tZ)("div",{children:"React Query"}),(0,c.tZ)("div",{className:"react-query-devtools-helper__popover",children:(0,c.BX)("label",{className:"react-query-devtools-helper__label",children:[(0,c.tZ)("input",{type:"checkbox",name:"react-query-devtools",checked:e,onChange:async function(e){await t(e.target.checked),window.location.reload()}}),(0,c.tZ)("span",{children:"Enable Devtools"})]})})]})}const m=e=>i.render((0,c.tZ)(u,{}),e)},"./lib/redux-bridge/index.js":(e,t,s)=>{"use strict";s.d(t,{e:()=>n,T:()=>i});let o=null;function n(e){o=e}function i(...e){if(o)return o.dispatch(...e)}},"./lib/route/legacy-routes.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var o=s("../packages/calypso-config/src/index.ts");const n=[{match:/.php$/},{match:/^\/?$/,predicate:()=>!(0,o._k)("reader")},{match:/^\/manage/},{match:/^\/plans/},{match:/^\/me/,noMatch:/^\/me\/(billing|next)/,predicate:()=>!1}];function i(e){return n.some((({match:t,noMatch:s={test:()=>!1},predicate:o=(()=>!0)})=>o(e)&&t.test(e)&&!s.test(e)))}},"./lib/sentry/index.ts":(e,t,s)=>{"use strict";s.d(t,{n_:()=>d,Tb:()=>u,j6:()=>p});var o=s("../packages/calypso-config/src/index.ts");const n={dsn:"https://61275d63a504465ab315245f1a379dab@o248881.ingest.sentry.io/6313676",sampleRate:1,denyUrls:[/^[a-z]+(-[a-z]+)?-extension:\/\//i]};let i=[],a=[],r=[];let c={state:"initial"};function l(e,t){const{state:s}=c;"loaded"!==s?"error"!==s&&"disabled"!==s&&i.push({f:e,a:t}):c.sentry[e](...t)}function d(...e){l("addBreadcrumb",e)}function u(...e){l("captureException",e)}function m(e){return"navigation"!==e.category||e.data?.should_capture?(e.data?.should_capture&&delete e.data.should_capture,e):null}async function p({beforeSend:e,userId:t}){try{if("undefined"==typeof document||"initial"!==c.state)return;if(c={state:"loading"},!o.ZP.isEnabled("catch-js-errors")||"wpcalypso"!==(0,o.ZP)("env_id")&&1!==Math.floor(10*Math.random()))return void(c={state:"disabled"});const l=e=>{a.push([e.message,e.filename,e.lineno,e.colno,e.error])},d=e=>{r.push("reason"in e?e.reason:"detail"in e&&"reason"in e.detail?e.detail.reason:e)};window.addEventListener("error",l),window.addEventListener("unhandledrejection",d);try{const i=await s.e(25418).then(s.bind(s,"../node_modules/@sentry/react/esm/index.js")),a=(0,o.ZP)("env_id"),r="production"===a||"horizon"===a?`calypso_${window.COMMIT_SHA}`:void 0;window.removeEventListener("error",l),window.removeEventListener("unhandledrejection",d),i.init({...n,initialScope:{user:{id:t?.toString()}},environment:a,release:r,beforeBreadcrumb:m,beforeSend:e}),c={state:"loaded",sentry:i}}catch(e){throw c={state:"error"},window.removeEventListener("error",l),window.removeEventListener("unhandledrejection",d),e}!function(){for(const e of i)c.sentry[e.f](...e.a);if(window.onerror)for(const e of a)window.onerror(...e);if(window.onunhandledrejection)for(const e of r)window.onunhandledrejection(e)}()}catch(e){console.error(e)}finally{i=[],a=[],r=[]}}},"./lib/touch-detect/index.js":(e,t,s)=>{"use strict";function o(){return window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}s.d(t,{_:()=>o})},"./lib/url/is-external.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("../packages/calypso-config/src/index.ts"),n=s("./lib/route/legacy-routes.ts");const i="base.invalid";function a(e){if(!e&&""!==e)return!0;let t;e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")||e.startsWith("?")||e.startsWith("#")||(e="//"+e);try{t=new URL(e,"http://base.invalid")}catch{return!1}const{hostname:s,pathname:a}=t;return s!==i&&("undefined"!=typeof window&&s===window.location.hostname?!(!a||!(0,n.K)(a.replace("//","/"))):s!==(0,o.ZP)("hostname"))}},"./lib/url/is-outside-calypso.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("../packages/calypso-url/src/url-parts.ts"),n=s("./lib/url/is-external.ts");function i(e){if((0,n.Z)(e))return!0;const{pathname:t}=(0,o.A)(e);return!!(/^\/support($|\/)/i.test(t)||/^\/([a-z]{2}|[a-z]{2}-[a-z]{2})\/support($|\/)/i.test(t)||/^\/forums($|\/)/i.test(t)||/^\/([a-z]{2}|[a-z]{2}-[a-z]{2})\/forums($|\/)/i.test(t))}},"./lib/url/support.js":(e,t,s)=>{"use strict";s.d(t,{lz:()=>n,sR:()=>i,Jn:()=>a,BT:()=>r,SZ:()=>c,_j:()=>l,p5:()=>d,rH:()=>u,yY:()=>m,_v:()=>p,BW:()=>h,nG:()=>g,w7:()=>y,FH:()=>j,w0:()=>f,js:()=>b,sN:()=>_,Ck:()=>w,WZ:()=>v,f6:()=>k,JY:()=>x,Lf:()=>Z,a7:()=>S,sO:()=>P,fu:()=>E,g:()=>C,wO:()=>N,iV:()=>I,IU:()=>L,nS:()=>O,n5:()=>T,L6:()=>R,kq:()=>$,Ng:()=>A,DT:()=>q,CW:()=>M,Fr:()=>z,ml:()=>D,ut:()=>U,dV:()=>H,BA:()=>F,A1:()=>B,lJ:()=>J,mm:()=>W,$d:()=>V,un:()=>G,wQ:()=>X,M9:()=>Y,xg:()=>K,dL:()=>Q,$:()=>ee,tL:()=>te,fQ:()=>se,Nm:()=>oe,dR:()=>ne,Oy:()=>ie,MG:()=>ae,kY:()=>re});const o="https://wordpress.com/support",n=`${o}/add-email/adding-google-workspace-to-your-site/`,i=`${o}/add-email/adding-professional-email-to-your-site/`,a=`${o}/manage-purchases/#automatic-renewal`,r=`${o}/domains/change-name-servers/`,c=`${o}/domains/change-name-servers/#find-your-new-name-servers`,l=`${o}/concierge-support/`,d=`${o}/contact/`,u="/help/contact",m=`${o}/domains/custom-dns/`,p=`${o}/update-contact-information/#designated-agent`,h=`${o}/domain-registration-agreements/`,g=`${o}/domains/register-domain/#waiting-for-domain-changes`,y=`${o}/domains/`,j=`${o}/domains/cancel-refund-a-domain/`,f=`${o}/domains/domain-expiration/`,b=`${o}/domains/domain-expiration/#expiry-auction`,_=`${o}/domains/domain-pricing-and-available-tlds/`,w=`${o}/domains/custom-dns/#editing-or-deleting-dns-records`,v=`${o}/domains/custom-dns/#txt-record-character-limit`,k=`${o}/ecommerce/`,x=`${o}/move-domain/incoming-domain-transfer/#checking-your-transfer-status-and-failed-transfers`,Z=`${o}/incoming-domain-transfer/status-and-failed-transfers/#pending`,S=`${o}/incoming-domain-transfer/`,P=`${o}/incoming-domain-transfer/#step-1-unlock-your-domain`,E=`${o}/incoming-domain-transfer/#step-2-obtain-your-domain-transfer-authorization-code`,C=`${o}/incoming-domain-transfer/#faq-and-troubleshooting`,N=`${o}/incoming-domain-transfer/#which-tl-ds-extensions-can-i-transfer-to-word-press-com`,I=`${o}/payment/#edit-payment-details`,L=`${o}/domains/register-domain/#email-validation-and-verification`,O=`${o}/empty-site/`,T=`${o}/forms/`,R=`${o}/your-site-and-the-gdpr/`,$="https://workspace.google.com/learning-center/",A=`${o}/domains/https-ssl/`,q="https://jetpack.com/support/",M="https://jetpack.com/support/getting-started-with-jetpack/fixing-jetpack-connection-issues/",z="https://jetpack.com/contact-support/?rel=support",D="https://jetpack.com/pricing/",U="https://help.vaultpress.com/install-vaultpress/",H="https://akismet.com/support/",F=`${o}/domains/connect-existing-domain/`,B=`${o}/domains/connect-existing-domain/#option-1-update-nbsp-name-nbsp-servers-nbsp-yourself`,J=`${o}/domains/connect-a-domain-alternative-method`,W=`${o}/domains/connect-subdomain/`,V=`${o}/domains/connect-subdomain/#adding-cname-records-with-your-registrar`,G=`${o}/domains/connect-existing-domain/#step-2-change-your-domains-name-servers`,X=`${o}/domains/domain-registrations-and-privacy/#privacy-protection`,Y=`${o}/domains/register-domain/#public-versus-private-registration-and-gdpr`,K=`${o}/manage-purchases/#refund-policy`,Q=`${o}/domains/register-domain/`,ee=`${o}/domains/set-a-primary-address/`,te=`${o}/setting-up-premium-services/`,se=`${o}/site-redirect/`,oe=`${o}/`,ne=`${o}/transfer-domain-registration/`,ie=`${o}/update-contact-information/#email-or-name-changes`,ae=`${o}/domains/change-name-servers/`,re=`${o}/wpcc-faq/`},"./lib/user/verification-checker.js":(e,t,s)=>{"use strict";s.d(t,{X:()=>u,Z:()=>m});var o=s("../node_modules/debug/src/browser.js"),n=s.n(o),i=s("../node_modules/react/index.js"),a=s("../node_modules/react-redux/es/index.js"),r=s("./state/current-user/actions.js"),c=s("./state/current-user/selectors.js");const l=n()("calypso:user"),d="__email_verified_signal__";function u(){window.localStorage&&(window.localStorage.setItem(d,1),l("Verification: SENT SIGNAL"))}function m(){const e=(0,a.v9)(c.ts),t=(0,a.I0)();return(0,i.useEffect)((()=>{if(!e)return;if(e.email_verified)return;const s=e=>{e.key===d&&e.newValue&&(l("Verification: RECEIVED SIGNAL"),window.localStorage.removeItem(d),t((0,r.k)()))};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}}),[e,t]),null}},"./my-sites/domains/paths.js":(e,t,s)=>{"use strict";s.d(t,{EI:()=>c,fY:()=>l,dC:()=>d,$5:()=>u,eZ:()=>m,Hf:()=>p,OL:()=>h,q6:()=>g,En:()=>y,tT:()=>j,Ym:()=>f,JF:()=>b,Y9:()=>_,lq:()=>w,wt:()=>v,tZ:()=>k,wI:()=>x,DP:()=>Z,Jk:()=>S,B3:()=>P,bW:()=>E,G$:()=>C,ef:()=>N,Iv:()=>I,BO:()=>L,bV:()=>O,oH:()=>T,sx:()=>R,dw:()=>$,Mk:()=>A,j$:()=>q});var o=s("../node_modules/lodash-es/filter.js"),n=s("../node_modules/qs/lib/index.js"),i=s("./my-sites/email/paths.js");function a(e,t,s,o=null){return s=s||"edit",t.startsWith(":")||(t=encodeURIComponent(encodeURIComponent(t))),function(e=null){if(e){if("/domains/manage"===e)return"/domains/manage/all";if(c(e)||(0,i.i2)(e))return"/domains/manage/all"}return"/domains/manage"}(o)+"/"+t+"/"+s+"/"+e}function r(e,t,s="",n=null){return a(e,t,(0,o.Z)(["transfer",s]).join("/"),n)}function c(e){return e?.startsWith("/domains/manage/all/")||"/domains/manage"===e}function l(e,t){let s="/domains/add";return e&&(s=`${s}/${e}`),t?`${s}?suggestion=${t}`:s}function d(e,t){return`/domains/add/${t}/email/${e}`}function u(){return"/domains/manage/all"}function m(){return"/domains/manage"}function p(e,t=null){return c(t)||(0,i.i2)(t)?"/domains/manage":"/domains/manage/"+e}function h(e,t,s){return a(e,t,"edit",s)}function g(e,t,s=null){return a(e,t,"contacts-privacy",s)}function y(e,t,s=null){return a(e,t,"edit-contact-info",s)}function j(){return"/domains/manage/all/edit-contact-info"}function f(e,t,s=null){return a(e,t,"manage-consent",s)}function b(e,t){let s;return s=t?a(e,t,"email"):e?"/domains/manage/email/"+e:"/domains/manage/email",s}function _(e,t,s=null){return a(e,t,"dns",s)}function w(e,t,s=null){return a(e,t,"add-dns-record",s)}function v(e,t,s,o=null){let n=a(e,t,"edit-dns-record",o);return s&&(n+="?recordId="+encodeURI(s)),n}function k(e,t,s=null){return a(e,t,"redirect-settings",s)}function x(e,t,s=null){return a(e,t,"security",s)}function Z(e,t,s=null){return a(e,t,"redirect",s)}function S(e,t,s=null){return r(e,t,"",s)}function P(e,t,s=null){return r(e,t,"in",s)}function E(e,t,s=null){return r(e,t,"precheck",s)}function C(e,t,s=null){return r(e,t,"out",s)}function N(e,t,s=null){return r(e,t,"other-user",s)}function I(e,t,s=null){return r(e,t,"other-site",s)}function L(e,t=""){let s=`/domains/add/mapping/${e}`;return t&&(s+=`?initialQuery=${t}`),s}function O(e,t,s="",o=!1,i=!1){let a=`/domains/mapping/${e}/setup/${t}`;const r={};s&&(r.step=s),o&&(r["show-errors"]=!0),i&&(r.firstVisit=!0);const c=(0,n.stringify)(r);return c&&(a+="?"+c),a}function T(e,t,s){let o=`/domains/add/transfer/${e}`;const i={};t&&(i.initialQuery=t),s&&(i.useStandardBack=!0);const a=(0,n.stringify)(i);return a&&(o+="?"+a),o}function R(e,t){let s=`/domains/add/use-your-domain/${e}`;return t&&(s+=`?initialQuery=${t}`),s}function $(e,t,s){const o=`/domains/add/use-my-domain/${e}`,n=[];return t&&(n.push(`initialQuery=${t}`),s&&n.push(`initialMode=${s}`)),o+(n.length?`?${n.join("&")}`:"")}function A(e,t,s=null){return a(e,t,"domain-connect-mapping",s)}function q(e,t){return`/start/site-selected/?siteSlug=${encodeURIComponent(e)}&siteId=${encodeURIComponent(t)}`}},"./my-sites/email/paths.js":(e,t,s)=>{"use strict";s.d(t,{NZ:()=>i,oc:()=>r,m3:()=>c,x9:()=>l,Vp:()=>d,Y:()=>u,gV:()=>m,Zh:()=>p,GZ:()=>h,Fb:()=>g,s_:()=>y,y0:()=>j,IR:()=>f,uS:()=>b,yV:()=>_,i2:()=>w});var o=s("../node_modules/qs/lib/index.js"),n=s("./my-sites/domains/paths.js");const i="/email/all",a=(e={})=>e?(0,o.stringify)(e,{addQueryPrefix:!0,skipNulls:!0}):"";function r(e,t,s=null,o=null){return b(e,t,"forwarding/add",s,{source:o})}function c(e,t,s,o=null,n=null){return t?b(e,t,s+"/add-users",o,{source:n}):"/email/"+s+"/add-users/"+e}function l(e,t,s=null,o={}){return b(e,t,"titan/manage",s,o)}function d(e,t,s=null,o={}){return b(e,t,"titan/manage-mailboxes",s,o)}function u(e,t,s=null,o=null){return b(e,t,"titan/new",s,{source:o})}function m(e,t,s=null,o=null){return b(e,t,"titan/set-up-mailbox",s,{source:o})}function p(e,t,s=null,o=null){return b(e,t,"titan/set-up-mailbox/thank-you",o,s?{email:s}:{})}function h(e,t,s=null,o={}){return b(e,t,"titan/control-panel",s,o)}function g(e,t,s=null,o={}){let n;return n=t?b(e,t,"manage",s,o):e?"/email/"+e+a(o):"/email",n}function y(e,t,s=null){return b(e,t,"forwarding",s)}function j(e,t,s=null,o=null,n=null,i=null){return b(e,t,"purchase",s,{interval:i,provider:n,source:o})}function f(e,t,s=null,o=null,n=null){return b(e,t,"compare",s,{interval:n,referrer:s,source:o})}function b(e,t,s,o=null,r={}){return s=s||"manage",t&&!String(t).startsWith(":")&&(t=encodeURIComponent(encodeURIComponent(t))),function(e){return e===i||e===(0,n.eZ)()||w(e)||(0,n.EI)(e)?i:"/email"}(o)+"/"+t+"/"+s+"/"+e+a(r)}function _(e=null){return e?`/inbox/${e}`:"/inbox"}function w(e){return e?.startsWith(i+"/")}},"./sections-helper.js":(e,t,s)=>{"use strict";s.d(t,{oq:()=>i,OY:()=>a,MA:()=>r,zD:()=>c});var o=s("../node_modules/lodash-es/find.js");let n=null;function i(e){n=e}function a(){if(!n)throw new Error("sections-helper has not been initialized yet");return n}function r(e){const t=(0,o.Z)(n,{name:e});t&&t.load()}function c(e,t){const s=(0,o.Z)(n,{name:e,module:t});return s?Promise.resolve(s.load()):Promise.reject(`Attempting to load non-existent section: ${e} (module=${t})`)}},"./state/analytics/actions/with-analytics.js":(e,t,s)=>{"use strict";s.d(t,{w:()=>n});const o=(e,t)=>{return"function"==typeof t?s=>{s(e),s(t)}:{...t,meta:{...t.meta,analytics:(s=e,o=t,[...s.meta?.analytics??[],...o.meta?.analytics??[]])}};var s,o};function n(e,t){return void 0===t?t=>o(e,t):o(e,t)}},"./state/application/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("./state/action-types.ts"),a=s("./state/utils/reducer-utils.ts");const r=(0,n.xi)("application",(0,a.U)({connectionState:(e="CHECKING",t)=>{switch(t.type){case i.ukS:return"OFFLINE";case i.GmV:return"ONLINE"}return e}}));(0,o.x)(["application"],r)},"./state/audio/middleware.js":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>c});var o=s("../packages/calypso-config/src/index.ts"),n=s("./state/action-types.ts");const i=()=>"object"==typeof window&&"function"==typeof window.Audio,a=(0,o.ZP)("happychat_pling_noise_path"),r=Object.create(null);r[n.$Tb]=(e,{message:t})=>{t&&"customer"===t.source||(e=>{if(!i())return;new window.Audio(e).play()})(a)};const c=({dispatch:e})=>t=>i()?s=>{const o=r[s.type];return"function"==typeof o&&o(e,s),t(s)}:t},"./state/desktop/middleware.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/debug/src/browser.js"),n=s.n(o),i=s("./state/action-types.ts"),a=s("./state/desktop/window-events.js");const r=n()("desktop:middleware"),c=()=>e=>t=>t.type===i.hxz?(r("Dispatching window event for action type: ",t.type),window.dispatchEvent(new window.CustomEvent(a.D)),e(t)):e(t)},"./state/desktop/window-events.js":(e,t,s)=>{"use strict";s.d(t,{D:()=>o});const o="NOTIFY_DESKTOP_NOTIFICATIONS_UNSEEN_COUNT_RESET"},"./state/gutenberg-iframe-eligible/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("./state/action-types.ts");const a=(0,s("./state/utils/keyed-reducer.ts").J)("siteId",((e,{type:t,isEligibleForGutenframe:s})=>t===i.p8O?s:e)),r=(0,n.xi)("gutenbergIframeEligible",a);(0,o.x)(["gutenbergIframeEligible"],r)},"./state/happychat/constants.js":(e,t,s)=>{"use strict";s.d(t,{jP:()=>o,SJ:()=>n,bp:()=>i,XY:()=>a,oP:()=>r,ad:()=>c,RQ:()=>l,Qy:()=>d,lc:()=>u,ul:()=>m,mH:()=>p,EB:()=>h,mr:()=>g,so:()=>y,Zy:()=>j,dZ:()=>f,sH:()=>b,pW:()=>_,HY:()=>w,s0:()=>v,Bp:()=>k,nN:()=>x,i5:()=>Z});const o="ping timeout",n="uninitialized",i="connecting",a="connected",r="disconnected",c="reconnecting",l="continuing_session",d="unauthorized",u=30,m="product",p="language",h="jpop",g="WP.com",y={CUSTOMER_EVENT:"customer-event",CUSTOMER_INFO:"customer-info",LOG:"log"},j="abandoned",f="assigned",b="assigning",_="blocked",w="closed",v="default",k="new",x="missed",Z="pending"},"./state/happychat/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("./state/utils/reducer-utils.ts"),a=s("./state/action-types.ts"),r=s("./state/happychat/constants.js"),c=s("./state/utils/schema-utils.js"),l=s("./state/utils/with-persistence.ts");const d={type:"array",additionalProperties:!1,items:{type:"object",additionalProperties:!1,required:["id","source","message","timestamp","user_id","type"],properties:{id:{type:"string"},source:{type:"string"},message:{type:"string"},name:{type:"string"},image:{type:"string"},timestamp:{type:["number","string"]},user_id:{type:["number","string"]},type:{type:"string"},links:{type:"array"}}}},u=e=>e<17e8?1e3*e:e,m=(0,c.G)({type:"number"},((e=null,t)=>{switch(t.type){case a.qjX:case a.$Tb:return Date.now()}return e})),p=(e={},t)=>{switch(t.type){case a.$Tb:case a.IoY:case a.Ylp:{const{message:e}=t;return{id:e.id,source:e.source,message:e.text,name:e.user.name,image:e.user.avatarURL,isEdited:!!e.revisions,isOptimistic:e.isOptimistic,files:e.files,timestamp:u(e.timestamp),user_id:e.user.id,type:e.type??"message",links:e.meta?.links}}}return e},h=e=>parseInt(e.timestamp,10),g=(e,t)=>h(e)-h(t),y=(0,c.G)(d,(0,l.$)(((e=[],t)=>{switch(t.type){case a.$Tb:case a.IoY:{if(t.message.meta?.forOperator)return e;const s=p({},t),o=e.findIndex((({id:e})=>s.id===e));return o>=0?[...e.slice(0,o),s,...e.slice(o+1)]:e.concat([s])}case a.Ylp:{const s=e.findIndex((({id:e})=>t.message.id===e));return-1===s?e:[...e.slice(0,s),p({},t),...e.slice(s+1)]}case a.kJ4:{const s=t.messages?.filter((t=>!!t.id&&(!t.meta?.forOperator&&!e.some((e=>e.id===t.id)))))??[];return(e=>e.slice().sort(g))(e.concat(s.map((e=>({id:e.id,source:e.source,message:e.text,name:e.user.name,image:e.user.picture,isEdited:!!e.revisions,files:e.files,timestamp:u(e.timestamp),user_id:e.user.id,type:e.type??"message",links:e.meta?.links})))))}}return e}),{serialize:e=>e.slice(-1*r.lc)})),j=(0,i.U)({status:(e=r.s0,t)=>t.type===a.myH?t.status:e,timeline:y,lastActivityTimestamp:m}),f=(0,i.U)({error:(e=null,t)=>{switch(t.type){case a.M7f:return null;case a.f5U:return t.error}return e},isAvailable:(e=!1,t)=>t.type===a.nHy?t.isAvailable:e,env:(e=null,t)=>t.type===a.B1O?t.env:e,localizedSupport:(e=!1,t)=>t.type===a.Sur?t.isAvailable:e,status:(e=r.SJ,t)=>{switch(t.type){case a.Mei:return r.bp;case a.M7f:return r.XY;case a.f5U:return r.oP;case a.k_K:return r.ad}return e}}),b=(0,c.G)({type:"number"},(0,l.$)(((e=null,t)=>{switch(t.type){case a.vQd:return Date.now();case a.o9b:return null}return e}),{serialize:e=>null===e?Date.now():e})),_=(0,i.U)({currentMessage:(e="",t)=>{switch(t.type){case a.qjX:return"";case a.c2t:return t.message}return e},isMinimizing:(e=!1,t)=>t.type===a.tyO?!!t.isMinimizing:e,isOpen:(e=!1,t)=>t.type===a.eYx?!!t.isOpen:e,lostFocusAt:b}),w=(0,c.G)({type:["object","null"],properties:{city:{type:"string"},country_long:{type:"string"},country_short:{type:"string"},region:{type:"string"}}},((e=null,t)=>{if(t.type===a.M7f){const s=t.user.geoLocation;return s&&s.country_long&&s.city?s:e}return e})),v=(0,c.G)({type:["boolean","null"]},((e=null,t)=>t.type===a.Xeb?t.config.isUserEligible:e)),k=(0,c.G)({type:["object","null"],properties:{precancellation:{type:"boolean"},presale:{type:"boolean"}}},((e=null,t)=>t.type===a.Xeb?t.config.availability:e)),x=(0,c.G)({type:["string","null"]},((e=null,t)=>t.type===a.Xeb?t.config.supportLevel:e)),Z=(0,i.U)({geoLocation:w,isEligible:v,availability:k,supportLevel:x}),S=(0,i.U)({chat:j,connection:f,ui:_,user:Z}),P=(0,n.xi)("happychat",S);(0,o.x)(["happychat"],P)},"./state/happychat/middleware-calypso.js":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>w});var o=s("./state/action-types.ts"),n=s("./state/analytics/actions/with-analytics.js"),i=s("./state/analytics/actions/record.js"),a=s("./state/current-user/selectors.js"),r=s("./state/happychat/connection/actions.js"),c=s("./state/happychat/constants.js"),l=s("./state/happychat/selectors/get-groups.js"),d=s("./state/happychat/selectors/get-happychat-chat-status.js"),u=s("./state/happychat/selectors/get-skills.js"),m=s("./state/happychat/selectors/is-happychat-chat-assigned.js"),p=s("./state/happychat/selectors/is-happychat-client-connected.js"),h=s("./state/help/selectors.js"),g=s("./state/jetpack-connect/action-types.js"),y=s("./state/selectors/get-current-route.js"),j=s("./state/sites/selectors/get-site-plan-slug.js"),f=s("./state/ui/selectors/get-section-name.js");const b=(e,t)=>`Looking at https://wordpress.com${t}`,_=({getState:e,dispatch:t},s)=>{const n=e();if(!(0,p.Z)(n)||!(0,m.Z)(n))return;s.meta?.analytics&&((e,{meta:{analytics:t}})=>{t.forEach((({type:t,payload:{service:s,name:n,properties:i}})=>{if(t===o.u2u&&"tracks"===s){const t=(({name:e,properties:t})=>{switch(e){case"calypso_add_new_wordpress_click":return'Clicked "Add new site" button';case"calypso_domain_search_add_button_click":return`Clicked "Add" button to add domain "${t.domain_name}"`;case"calypso_domain_remove_button_click":return`Clicked "Remove" button to remove domain "${t.domain_name}"`;case"calypso_themeshowcase_theme_activate":return`Changed theme from "${t.previous_theme}" to "${t.theme}"`;case"calypso_editor_featured_image_upload":return"Changed the featured image on the current post";case"calypso_map_domain_step_add_domain_click":return`Add "${t.domain_name}" to the cart in the "Map a domain" step`;case"calypso_view_site_page_view":return`Looking at ${t.full_url} inside the View Site section`}return null})({name:n,properties:i});t&&e((0,r.qP)(t)),e((0,r.gp)(n))}}))})(t,s);const i=(e=>{switch(e.type){case o.rNQ:return`Changed a comment's status to "${e.status}"`;case o.s_X:return"Export completed";case o.H3r:return`Export failed: ${e.error.message}`;case o.VJM:return"Started an export";case o.waY:case g.YB:case o.aqr:case o.aRw:case o.C8L:return null;case o.hZH:return`Saved post "${e.savedPost.title}" ${e.savedPost.short_URL}`;case o.fd:return`Connected ${e.connection.label} sharing`;case o.VM$:return`Disconnected ${e.connection.label} sharing`;case o.WjV:return null;case o.suc:return"Saved site settings"}return null})(s);i&&t((0,r.qP)(i))},w=e=>t=>s=>{const g=e.getState(),{dispatch:w}=e;switch(_(e,s),s.type){case o.myH:if((0,d.Z)(g)===c.i5&&s.status===c.dZ){w((0,n.w)((0,i.jN)("calypso_happychat_start"),(0,r.qP)(b(0,(0,y.Z)(g)))));const e=(0,h.QQ)(g);w((0,r.yW)({calypsoSectionName:(0,f.Z)(g)||"__unknown__",wpcomSiteId:""+e,wpcomSitePlan:(0,j.Z)(g,e)}))}break;case o.uWp:if((0,p.Z)(g)){const e=(0,a.Mg)(g),t=(0,l.Z)(g,s.siteId),o=(0,u.Z)(g,s.siteId);w((0,r._8)(e,t,o))}break;case o.RSp:(0,p.Z)(g)&&(0,m.Z)(g)&&w((0,r.qP)(b(0,s.path)))}return t(s)}},"./state/happychat/middleware.js":(e,t,s)=>{"use strict";function o(e){let t=null;function o(){return t||(t=Promise.all([s.e(49923),s.e(73583)]).then(s.bind(s,"../packages/happychat-connection/src/connection.ts")).then((({default:t})=>t(e)))),t}return{init:async(e,t)=>(await o()).init(e,t),request:async(e,t)=>(await o()).request(e,t),send:async e=>(await o()).send(e)}}s.d(t,{Z:()=>l});var n=s("./state/action-types.ts"),i=s("./state/happychat/connection/actions.js"),a=s("./state/happychat/selectors/is-happychat-chat-assigned.js"),r=s("./state/happychat/selectors/is-happychat-client-connected.js");const c={HAPPYCHAT_BLUR:"Stopped looking at Happychat",HAPPYCHAT_FOCUS:"Started looking at Happychat"},l=((e=null)=>(null==e&&(e=o({receiveAccept:i.pL,receiveConnect:i.id,receiveDisconnect:i.nv,receiveError:i.Mx,receiveInit:i.k_,receiveLocalizedSupport:i.$W,receiveHappychatEnv:i.CM,receiveMessage:i.QM,receiveMessageOptimistic:i.dN,receiveMessageUpdate:i.gg,receiveReconnecting:i.Mo,receiveStatus:i.KX,receiveToken:i.wH,receiveUnauthorized:i.up,requestTranscript:i.bi})),t=>s=>o=>{const l=t.getState();switch(o.type){case n.Mei:e.init(t.dispatch,o.auth);break;case n.R_D:e.request(o,o.timeout);break;case n.$tj:e.send(o),t.dispatch((0,i.yW)({}));break;case n.Syf:case n.vsK:case n.qjX:case n.Do$:case n.ILV:case n.SgU:e.send(o);break;case n.vQd:case n.o9b:(0,r.Z)(l)&&(0,a.Z)(l)&&c[o.type]&&t.dispatch((0,i.qP)(c[o.type]))}return s(o)}))()},"./state/happychat/selectors/get-happychat-chat-status.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/lodash-es/get.js");s("./state/happychat/init.js");const n=e=>(0,o.Z)(e,"happychat.chat.status")},"./state/happychat/selectors/has-active-happychat-session.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./state/happychat/constants.js");s("./state/happychat/init.js");const n=[o.pW,o.HY,o.s0,o.Bp];function i(e){return!n.includes(e.happychat.chat.status)}},"./state/happychat/selectors/is-happychat-chat-assigned.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("../node_modules/lodash-es/get.js"),n=s("./state/happychat/constants.js");s("./state/happychat/init.js");const i=e=>(0,o.Z)(e,"happychat.chat.status")===n.dZ},"./state/happychat/selectors/is-happychat-open.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/ui/selectors/get-section-name.js");s("./state/happychat/init.js");function n(e){return e.happychat.ui.isOpen&&"happychat"!==(0,o.Z)(e)}},"./state/index.js":(e,t,s)=>{"use strict";s.d(t,{E:()=>g});var o=s("../packages/calypso-config/src/index.ts"),n=s("../node_modules/redux/es/redux.js"),i=s("../node_modules/redux-dynamic-middlewares/lib/index.js"),a=s("../node_modules/redux-thunk/es/index.js"),r=s("./state/data-layer/wpcom-api-middleware.js"),c=s("./state/utils/add-reducer-enhancer.js");const l={actionHistory:[],shouldRecordActions:!0,historySize:100,watchPredicate:null},d=e=>{if(e instanceof RegExp)return({type:t})=>e.test(t);if("string"==typeof e)return({type:t})=>t===e;if("function"==typeof e)return e;throw new TypeError("provide string or RegExp matching `action.type` or a predicate function")},u={clear:()=>{l.actionHistory=[]},filter:e=>l.actionHistory.filter(d(e)),setSize:e=>{l.historySize=e},start:()=>{l.shouldRecordActions=!0},stop:()=>{l.shouldRecordActions=!1},unwatch:()=>{l.watchPredicate=null},watch:e=>{l.watchPredicate=e?d(e):null}};Object.defineProperty(u,"history",{enumerable:!0,get:()=>l.actionHistory});const m=e=>(...t)=>{const s=e(...t);if("undefined"==typeof window)return s;return Object.assign(window,{actionLog:u}),{...s,dispatch:e=>(l.shouldRecordActions&&(e=>{const{actionHistory:t,historySize:s}=l,o="function"==typeof e?{type:"thunk (hidden)"}:{};t.push({...e,...o,meta:{...e.meta,timestamp:Date.now()}}),t.length>2*s&&(l.actionHistory=t.slice(-1*s))})(e),"function"==typeof l.watchPredicate&&"function"==typeof console.log&&l.watchPredicate(e)&&console.log("Watched action observed:\n%o",e),s.dispatch(e))}},p=e=>(...t)=>{const s=e(...t);return"undefined"!=typeof window&&(Object.assign(window,s),Object.defineProperty(window,"state",{enumerable:!0,get:s.getState})),s};var h=s("./state/reducer.js");function g(e,t=h.Z){const l="object"==typeof window,d=(0,o._k)("desktop"),u="object"==typeof window&&"function"==typeof window.Audio,g=[a.Z,r.Z,l&&s("./state/happychat/middleware.js").Z,l&&s("./state/happychat/middleware-calypso.js").ZP,i.ZP,l&&s("./state/analytics/middleware.js").i,l&&s("./state/lib/middleware.js").Z,u&&s("./state/audio/middleware.js").ZP,d&&s("./state/desktop/middleware.js").Z].filter(Boolean),y=[c.f,l&&window.app&&window.app.isDebug&&p,(0,n.applyMiddleware)(...g),l&&window.app&&window.app.isDebug&&m,l&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()].filter(Boolean);return(0,n.createStore)(t,e,(0,n.compose)(...y))}},"./state/jetpack-connect/action-types.js":(e,t,s)=>{"use strict";s.d(t,{YB:()=>o,t5:()=>n,n1:()=>i,Ok:()=>a,O:()=>r,Fb:()=>c,LU:()=>l,o$:()=>d,Ec:()=>u,DY:()=>m,OM:()=>p,JX:()=>h,a4:()=>g,GP:()=>y,YV:()=>j,FE:()=>f,WG:()=>b,Wq:()=>_});const o="JETPACK_CONNECT_AUTHORIZE",n="JETPACK_CONNECT_AUTHORIZE_LOGIN_COMPLETE",i="JETPACK_CONNECT_AUTHORIZE_RECEIVE",a="JETPACK_CONNECT_AUTHORIZE_RECEIVE_SITE_LIST",r="JETPACK_CONNECT_CHECK_URL",c="JETPACK_CONNECT_CHECK_URL_RECEIVE",l="JETPACK_CONNECT_COMPLETE_FLOW",d="JETPACK_CONNECT_CONFIRM_JETPACK_STATUS",u="JETPACK_CONNECT_DISMISS_URL_STATUS",m="JETPACK_CONNECT_QUERY_SET",p="JETPACK_CONNECT_RETRY_AUTH",h="JETPACK_CONNECT_SSO_AUTHORIZE_ERROR",g="JETPACK_CONNECT_SSO_AUTHORIZE_REQUEST",y="JETPACK_CONNECT_SSO_AUTHORIZE_SUCCESS",j="JETPACK_CONNECT_SSO_VALIDATION_ERROR",f="JETPACK_CONNECT_SSO_VALIDATION_REQUEST",b="JETPACK_CONNECT_SSO_VALIDATION_SUCCESS",_="JETPACK_CONNECT_USER_ALREADY_CONNECTED"},"./state/jetpack-connect/constants.js":(e,t,s)=>{"use strict";s.d(t,{e4:()=>o,Fe:()=>n,xH:()=>i,CA:()=>a});const o=3600,n=1e3*o,i=36e5,a=6e4},"./state/lib/middleware.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s("../node_modules/lodash-es/once.js"),n=s("../node_modules/lodash-es/defer.js"),i=s("../node_modules/page/page.js"),a=s.n(i),r=s("./state/action-types.ts"),c=s("./state/current-user/selectors.js");s("./state/immediate-login/init.js");var l=s("../packages/i18n-calypso/src/index.js");var d=s("./state/notices/actions.ts");const u=(0,o.Z)(((e,t,s)=>{if(!t.query.immediate_login_attempt)return;if(e(((e,t,s,o)=>({type:r.Mt0,success:e,reason:t,email:s,locale:o}))(t.query.immediate_login_success,t.query.login_reason,t.query.login_email,t.query.login_locale)),a().replace(((e,t)=>{const s=["immediate_login_attempt","immediate_login_success","login_reason","login_email","login_locale"],o=Object.keys(t).filter((e=>-1===s.indexOf(e))).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`));return e+(o.length?"?"+o.join("&"):"")})(t.path,t.query)),!t.query.immediate_login_success)return;const o=(0,c.vz)(s());o&&(0,n.Z)((()=>{e((0,d.RT)(((e,t)=>(0,l.Iu)("You're logged in as %(email)s.",{args:{email:t}}))(t.query.login_reason,o)))}))})),m=({dispatch:e,getState:t})=>o=>n=>((async(e,t,o)=>{switch(t.type){case r.RSp:return u(e,t,o);case r.bgv:case r.UUJ:case r.xLe:{const{fetchAutomatedTransferStatusForSelectedSite:t}=await Promise.all([s.e(49149),s.e(27456)]).then(s.bind(s,"./state/lib/automated-transfer-middleware.js"));t(e,o)}}})(e,n,t),o(n))},"./state/notifications-panel/actions/index.js":(e,t,s)=>{"use strict";s.d(t,{k:()=>n,g:()=>i});s("./state/notifications-panel/init.js");var o=s("./state/action-types.ts");const n=function(e){return{type:o.b_y,refresh:e}},i=function(){return{type:o.b_y,refresh:!1}}},"./state/notifications-panel/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("./state/action-types.ts");const i=(0,s("./state/utils/reducer-utils.ts").U)({shouldForceRefresh:(e=!1,{type:t,refresh:s})=>t===n.b_y?s||!1:e});(0,o.x)(["notifications"],i)},"./state/notifications/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("./state/action-types.ts");const a=(0,n.xi)("notificationsUnseenCount",((e=null,t)=>i.tBn===t.type?t.unseenCount:e));(0,o.x)(["notificationsUnseenCount"],a)},"./state/push-notifications/actions.js":(e,t,s)=>{"use strict";s.d(t,{S1:()=>j,n0:()=>P,hr:()=>E});var o=s("../packages/calypso-config/src/index.ts"),n=s("../node_modules/debug/src/browser.js"),i=s.n(n);var a=s("./lib/wp/browser.js"),r=s("./state/action-types.ts"),c=s("./state/analytics/actions/bump-stat.js"),l=s("./state/analytics/actions/record.js"),d=s("./state/push-notifications/selectors.js");function u(){const e=window.navigator.appVersion.match(/Chrome\/(\d+)/);return e?e[1]:-1}function m(){return window&&"serviceWorker"in window.navigator&&"ServiceWorkerRegistration"in window&&"showNotification"in window.ServiceWorkerRegistration.prototype&&"PushManager"in window}function p(){if(window&&window.navigator&&window.navigator.appVersion){const e=window.navigator.appVersion.match(/OPR\/(\d+)/);return e?e[1]:-1}return-1}function h(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),s=atob(t),o=new Uint8Array(s.length);for(let e=0;e<s.length;++e)o[e]=s.charCodeAt(e);return o}s("./state/push-notifications/init.js");const g=i()("calypso:push-notifications"),y={path:"/service-worker.js"};function j(){return e=>{const{isSupportSession:t}=s("./lib/user/support-user-interop.js");if(t())return g("Push Notifications are not supported when SU is active"),void e(f());if(!m())return g("Push Notifications are not supported"),void e(f());if(window&&window.chrome&&window.navigator.appVersion&&u()<50){g("Push Notifications are not supported in Chrome 49 and below");const t=u();return e((0,c.P)("calypso_push_notif_unsup_chrome",t>39&&t<50?t:"other")),void e(f())}if(-1!==p()){g("Push Notifications are not supported in Opera");const t=p();return e((0,c.P)("calypso_push_notif_unsup_opera",t>15&&t<100?t:"other")),void e(f())}"Notification"in window&&"denied"!==window.Notification.permission||(g("Push Notifications have been denied"),e(S())),e(_())}}function f(){return{type:r.HGp}}function b(){return(e,t)=>{e({type:r.BOh});const s=t();(0,d.IT)(s)||((0,d._k)(s)?e(((e,t)=>{const s=t();!(0,d.IT)(s)&&(0,d.fT)(s)&&window.navigator.serviceWorker.ready.then((t=>{t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h((0,o.ZP)("push_notification_vapid_key"))}).then((()=>e(Z()))).catch((t=>{g("Couldn't get subscription",t),e(Z())}))})).catch((e=>g("Error activating subscription",e)))})):(e(Z()),"disabling"===(0,d.lR)(s)&&(g("Forcibly unregistering device (disabling on apiReady)"),e(k()))))}}function _(){return e=>{g("Registering service worker"),function(e={}){const t=e.path||"/service-worker.js";return window.navigator.serviceWorker.register(t)}(y).then((t=>e(b()))).catch((t=>{g("Error loading service worker!",t),e(f())}))}}function w(){return e=>{window.navigator.serviceWorker.getRegistration(y).then((t=>{t.pushManager.getSubscription().then((t=>{e(k()),t&&t.unsubscribe?t.unsubscribe().then((()=>g("Push subscription unsubscribed"))).catch((e=>g("Error while unsubscribing",e))):g("Error getting push subscription to deactivate")})).catch((t=>{e(k()),g("Error getting subscription to deactivate",t)}))})).catch((t=>{e(k()),g("Error getting ServiceWorkerRegistration to deactivate",t)}))}}function v(e){return(t,s)=>{if("granted"===e)return g("Push notifications authorized"),t({type:r.pdf}),void t((e=>{window.navigator.serviceWorker.ready.then((t=>{t.pushManager.getSubscription().then((t=>{e(function(e){return t=>{if(e)return g("Sending subscription to WPCOM",e),a.Z.req.post("/devices/new",{device_token:JSON.stringify(e),device_family:"browser",device_name:"Browser"}).then(((e,s)=>t({type:r.SR1,data:e,headers:s}))).catch((e=>g("Couldn't register device",e)));g("No subscription to send to WPCOM")}}(t))})).catch((e=>g("Error getting subscription",e)))})).catch((e=>g("Error fetching push manager subscription",e)))}));"denied"!==e?((0,d._k)(s())&&t(P()),t({type:r.d7B})):t(S())}}function k(){return(e,t)=>{const s=(0,d.Zw)(t());return s?a.Z.req.post(`/devices/${s}/delete`).then((t=>{g("Successfully unregistered device",t),e(x(t))})).catch((t=>{g("Couldn't unregister device",t),e(x())})):(g("Couldn't unregister device. Unknown device ID"),void e(x()))}}function x(e){return{type:r.hEK,data:e||{}}}function Z(){return e=>{window.navigator.serviceWorker.ready.then((t=>{t.pushManager.permissionState({userVisibleOnly:!0}).then((t=>{g("Received push messaging state",t),e(v(t))})).catch((t=>{g("Error checking permission state",t),e(v("denied"))}))})).catch((e=>g("Error checking permission state -- not ready",e)))}}function S(){return e=>{e({type:r.fGH}),e(w()),e((0,l.jN)("calypso_web_push_notifications_blocked"))}}function P(){return(e,t)=>{const s=!(0,d._k)(t());g(s?"enabling":"disabling"),e({type:r.OY5}),s?(e(_()),e((0,l.jN)("calypso_web_push_notifications_enabled"))):(e(w()),e((0,l.jN)("calypso_web_push_notifications_disabled")))}}function E(){return{type:r.Pc2}}},"./state/push-notifications/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("../node_modules/debug/src/browser.js"),a=s.n(i),r=s("../node_modules/lodash-es/omit.js"),c=s("./state/action-types.ts"),l=s("./state/utils/schema-utils.js"),d=s("./state/utils/with-persistence.ts"),u=s("./state/utils/reducer-utils.ts");const m={type:"boolean"},p={type:"object",properties:{enabled:m,showingUnblockInstructions:m},additionalProperties:!1},h={type:"object",properties:{apiReady:m,blocked:m,wpcomSubscription:{type:"object",properties:{ID:{type:"string"},settings:{type:"object",additionalProperties:!0}}}},additionalProperties:!1},g=a()("calypso:push-notifications"),y=["apiReady","blocked"],j=(0,l.G)(h,(0,d.$)(((e={},t)=>{switch(t.type){case c.BOh:return g("API is ready"),Object.assign({},e,{apiReady:!0});case c.pdf:return Object.assign({},e,{blocked:!1});case c.fGH:return Object.assign({},e,{blocked:!0});case c.d7B:return Object.assign({},e,{blocked:!1});case c.hEK:{const{data:s}=t;return s.success||g("Couldn't unregister device",s),g("Deleted WPCOM subscription",s),(0,r.Z)(e,["wpcomSubscription"])}case c.SR1:{const{data:s}=t;return g("Received WPCOM device registration results",s),s&&s.ID?Object.assign({},e,{wpcomSubscription:{ID:s.ID.toString(),settings:s.settings}}):e}}return e}),{serialize:e=>(0,r.Z)(e,y),deserialize:e=>(0,r.Z)(e,y)})),f=["showingUnblockInstructions"],b=(0,l.G)(p,(0,d.$)(((e={enabled:!1},t)=>{switch(t.type){case c.OY5:return Object.assign({},e,{enabled:!e.enabled});case c.Pc2:return Object.assign({},e,{showingUnblockInstructions:!e.showingUnblockInstructions});case c.SR1:return Object.assign({},e,{enabled:!0})}return e}),{serialize:e=>(0,r.Z)(e,f),deserialize:e=>(0,r.Z)(e,f)})),_=(0,u.U)({settings:b,system:j}),w=(0,n.xi)("pushNotifications",_);(0,o.x)(["pushNotifications"],w)},"./state/push-notifications/selectors.js":(e,t,s)=>{"use strict";s.d(t,{fT:()=>o,IT:()=>n,_k:()=>a,J$:()=>r,Zw:()=>c,lR:()=>l});s("./state/push-notifications/init.js");const o=e=>!!e.pushNotifications.system.apiReady,n=e=>!!e.pushNotifications.system.blocked,i=e=>e.pushNotifications.system.wpcomSubscription,a=e=>!!e.pushNotifications.settings.enabled,r=e=>!!e.pushNotifications.settings.showingUnblockInstructions;function c(e){const t=i(e);if(t)return t.ID}function l(e){if(!o(e))return"unknown";if(n(e))return"denied";const t=i(e);return a(e)?t?"subscribed":"enabling":t?"disabling":"unsubscribed"}},"./state/query-client.ts":(e,t,s)=>{"use strict";s.d(t,{cf:()=>l,xi:()=>m,RV:()=>d,bH:()=>u});var o=s("../node_modules/lodash-es/throttle.js"),n=s("../node_modules/react-query/es/index.js"),i=s("../node_modules/react-query/es/persistQueryClient-experimental/index.js"),a=s("./state/initial-state.js"),r=s("./state/persisted-state.js");const c=e=>{if("success"!==e.state.status)return!1;const t=e.meta?.persist;return"boolean"==typeof t?t:!(e=>"function"==typeof e)(t)||t(e.state.data)};function l(){return new n.QueryClient({defaultOptions:{queries:{cacheTime:a.w_}}})}async function d(e,t){if((0,a.Eq)()){const s=`query-state-${t??"logged-out"}`,n={persistClient:(0,o.default)((e=>(0,r.cD)(s,e)),a.yq,{leading:!1,trailing:!0}),restoreClient:()=>(0,r._v)(s),removeClient:()=>{}};await(0,i.w)({queryClient:e,persistor:n,maxAge:a.w_,dehydrateOptions:{shouldDehydrateQuery:c}})}}function u(e,t){(0,n.hydrate)(e,t)}function m(){return"object"==typeof window&&window.initialQueryState&&(0,a.Eq)()?window.initialQueryState:null}},"./state/reducer.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var o=s("./state/utils/reducer-utils.ts"),n=s("./state/current-user/reducer.js"),i=s("./state/data-layer/wpcom-http/utils.js"),a=s("../node_modules/lodash-es/merge.js"),r=s("../node_modules/lodash-es/reduce.js"),c=s("../node_modules/lodash-es/isEqual.js"),l=s("../node_modules/lodash-es/omit.js"),d=s("../node_modules/lodash-es/get.js"),u=s("../node_modules/lodash-es/includes.js"),m=s("./state/action-types.ts"),p=s("./state/themes/action-types.js"),h=s("./state/utils/schema-utils.js");const g=e=>(t,{siteId:s})=>({...t,[s]:e}),y=(0,o.U)({items:(e={},t)=>{if(t.type===m.tvw){const{siteId:s,status:o}=t;return{...e,[s]:o}}return e},requesting:(e={},t)=>{switch(t.type){case m.U5d:return g(!0)(e,t);case m.QLz:case m.D5g:return g(!1)(e,t)}return e}});var j=s("../node_modules/lodash-es/find.js");const f=(e,t,s,o)=>{const n=(0,j.Z)(e[t],{domain:s}),i=e[t].indexOf(n),a=[...e[t]];return a.splice(i,1,Object.assign({},n,o)),Object.assign({},e,{[t]:a})},b=(0,h.G)({type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["domain"],properties:{aftermarketAuction:{type:"boolean"},autoRenewalDate:{type:"string"},autoRenewing:{type:"boolean"},blogId:{type:"number"},canSetAsPrimary:{type:"boolean"},currentUserCanManage:{type:"boolean"},canManageDnsRecords:{type:"boolean"},canManageNameServers:{type:"boolean"},canUpdateContactInfo:{type:"boolean"},cannotManageDnsRecordsReason:{type:["null","string"]},cannotManageNameServersReason:{type:["null","string"]},cannotUpdateContactInfoReason:{type:["null","string"]},domain:{type:"string"},expired:{type:"boolean"},expiry:{type:["null","string"]},expirySoon:{type:"boolean"},googleAppsSubscription:{type:"object"},titanMailSubscription:{type:"object"},hasRegistration:{type:"boolean"},hasWpcomNameservers:{type:"boolean"},hasZone:{type:"boolean"},isPendingIcannVerification:{type:"boolean"},isPendingRenewal:{type:"boolean"},isPremium:{type:"boolean"},isPrimary:{type:"boolean"},isSubdomain:{type:"boolean"},isWPCOMDomain:{type:"boolean"},manualTransferRequired:{type:"boolean"},name:{type:"string"},owner:{type:"string",optional:!0},partnerDomain:{type:"boolean"},pendingRegistration:{type:"boolean"},pendingRegistrationTime:{type:"string"},pointsToWpcom:{type:"boolean"},registrar:{type:"string"},registrationDate:{type:"string"},subscriptionId:{type:["null","string"]},supportsDomainConnect:{type:"boolean",optional:!0},supportsGdprConsentManagement:{type:"boolean",optional:!0},type:{type:"string"},transferStartDate:{type:["null","string"]},transferEndDate:{type:["null","string"]}}}}}},((e={},t)=>{const{siteId:s}=t;switch(t.type){case m.t2O:return Object.assign({},e,{[s]:t.domains});case m.DGo:return f(e,s,t.domain,{privateDomain:!0,contactInfoDisclosed:!1});case m.ON1:return f(e,s,t.domain,{privateDomain:!1,contactInfoDisclosed:!1});case m.tGX:return f(e,s,t.domain,{privateDomain:!1,contactInfoDisclosed:!0});case m.HYG:return f(e,s,t.domain,{privateDomain:!1,contactInfoDisclosed:!1})}return e})),_=(0,o.U)({errors:(e={},t)=>{switch(t.type){case m.wOJ:case m.RI4:return Object.assign({},e,{[t.siteId]:null});case m.dyA:return Object.assign({},e,{[t.siteId]:t.error})}return e},items:b,requesting:(e={},t)=>{switch(t.type){case m.wOJ:case m.RI4:case m.dyA:return Object.assign({},e,{[t.siteId]:t.type===m.wOJ})}return e},updatingPrivacy:(e={},t)=>{switch(t.type){case m.sBg:case m.DGo:case m.zVI:case m.HCR:case m.ON1:case m.T6o:case m.w6q:case m.tGX:case m.M5U:case m.K1T:case m.HYG:case m.sQe:return Object.assign({},e,{[t.siteId]:{[t.domain]:-1!==[m.sBg,m.HCR,m.w6q,m.K1T].indexOf(t.type)}})}return e}});var w=s("./state/sites/features/reducer.js"),v=s("./state/utils/keyed-reducer.ts"),k=s("./state/sites/intro-offers/types.ts");const x=(0,v.J)("siteId",((e,{type:t})=>{switch(t){case m.Frv:return k.e.Pending;case m.lfH:return k.e.Success;case m.Byq:return k.e.Failed}return e})),Z=(0,v.J)("siteId",((e,{type:t,payload:s})=>t===m.Kmp?s?(e=>{const t={};return e.forEach((e=>{t[e.product_id]=(({currency_code:e,discount_percentage:t,formatted_price:s,ineligible_reason:o,product_id:n,product_slug:i,raw_price:a})=>({currencyCode:e,discountPercentage:t,formattedPrice:s,ineligibleReason:o,productId:n,productSlug:i,rawPrice:a}))(e)})),t})(s):void 0:e)),S=(0,o.U)({requestStatus:x,items:Z});var P=s("./state/sites/plans/reducer.js"),E=s("./state/sites/products/reducer.js"),C=s("./state/sites/schema.js");const N=(0,h.G)(C.K,((e=null,t)=>{if(null===e&&t.type!==m.UUJ&&t.type!==m.xLe)return null;switch(t.type){case m.Khp:{const s=e[t.siteId];return s?Object.assign({},e,{[t.siteId]:(0,a.Z)({},s,{options:{wordads:!0}})}):e}case m.UUJ:case m.xLe:{const s=t.site?[t.site]:t.sites,o=m.xLe===t.type?{}:e;return(0,r.Z)(s,((t,s)=>((0,c.Z)(t[s.ID],s)||(t===e&&(t={...e}),t[s.ID]=s),t)),o||{})}case m.SYS:case m.Oh9:return(0,l.Z)(e,t.siteId);case p.hX:{const{siteId:s,themeStylesheet:o}=t,n=e[s];if(!n)break;return{...e,[s]:(0,a.Z)({},n,{options:{theme_slug:o}})}}case m.rZJ:case m.KBY:{const{siteId:s,settings:o}=t,n=e[s];if(!n)return e;let i=n;return(0,r.Z)(["blog_public","wpcom_public_coming_soon","wpcom_coming_soon","site_icon"],((t,a)=>{if(!o.hasOwnProperty(a))return t;switch(a){case"blog_public":{const e=-1===parseInt(o.blog_public,10);if(n.is_private===e)return t;i={...i,is_private:e};break}case"wpcom_coming_soon":case"wpcom_public_coming_soon":{const e=1===parseInt(o.wpcom_public_coming_soon,10)||1===parseInt(o.wpcom_coming_soon,10);if(n.is_coming_soon===e)return t;i={...i,is_coming_soon:e};break}case"site_icon":{const e=o.site_icon;if(!n.icon&&null===e||n.icon&&n.icon.media_id===e)return t;i=null===e?(0,l.Z)(i,"icon"):{...i,icon:{media_id:e}};break}}return t===e&&(t={...e}),t[s]=i,t}),e)}case m.aqr:{const{siteId:s,mediaIds:o}=t,n=(0,d.Z)(e[s],"icon.media_id");return n&&(0,u.Z)(o,n)?{...e,[s]:(0,l.Z)(e[s],"icon")}:e}case m.U0$:{const{siteId:s}=t,o=(0,d.Z)(e[s],"updates");return o?{...e,[s]:{...e[s],updates:{...o,plugins:o.plugins-1,total:o.total-1}}}:e}case m.uvG:{const{siteId:s,frontPageOptions:o}=t,n=e[s];if(!n)break;return{...e,[s]:(0,a.Z)({},n,{options:{...o}})}}case m.lTr:{const{siteId:s,migrationStatus:o,lastModified:n}=t;if(!e[s])return e;const i=e[s].site_migration||{},r={status:o};return n&&(r.last_modified=n),{...e,[s]:{...e[s],site_migration:(0,a.Z)({},i,r)}}}}return e})),I=(0,h.G)(C.W,((e=!1,t)=>t.type===m.xLe||e)),L=(0,o.U)({connection:y,domains:_,requestingAll:(e=!1,t)=>{switch(t.type){case m.M4_:return!0;case m.eTV:case m.KSQ:return!1}return e},introOffers:S,items:N,plans:P.z,products:E.R,features:w.E,requesting:(e={},t)=>{switch(t.type){case m.hJk:{const{siteId:s}=t;return{...e,[s]:!0}}case m.uuM:{const{siteId:s}=t;return{...e,[s]:!1}}case m.Mvd:{const{siteId:s}=t;return{...e,[s]:!1}}}return e},hasAllSitesList:I,jetpackSiteDisconnected:(e=!1,t)=>{switch(t.type){case m.ftJ:return!1;case m.Oh9:return!0}return e}}),O={currentUser:n.ZP,dataRequests:i.I6,sites:L},T=(0,o.U)(O)},"./state/selected-editor/actions.js":(e,t,s)=>{"use strict";s.d(t,{o:()=>c});var o=s("./state/action-types.ts"),n=s("./state/data-layer/handler-registry.js"),i=s("./state/data-layer/wpcom-http/actions.js"),a=s("./state/data-layer/wpcom-http/utils.js");s("./state/gutenberg-iframe-eligible/init.js");const r=(0,a.BN)({fetch:e=>(0,i.d)({method:"GET",path:`/sites/${e.siteId}/gutenberg`,apiNamespace:"wpcom/v3"},e),onSuccess:({siteId:e},{editor_web:t,eligible_gutenframe:s})=>n=>{n({type:o.Z4q,siteId:e,editor:t}),n({type:o.p8O,siteId:e,isEligibleForGutenframe:s})},onError:()=>{}});(0,n.Z9)("state/data-layer/wpcom/sites/gutenberg/index.js",{[o.L1d]:[r]});s("./state/selected-editor/init.js");const c=e=>({type:o.L1d,siteId:e})},"./state/selected-editor/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("./state/action-types.ts"),a=s("./state/utils/keyed-reducer.ts");const r=(0,n.xi)("selectedEditor",(0,a.J)("siteId",((e,{type:t,editor:s})=>t===i.Z4q?s:e)));(0,o.x)(["selectedEditor"],r)},"./state/selectors/get-site-migration-status.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/selectors/get-raw-site.ts");function n(e,t){return(0,o.Z)(e,t)?.site_migration?.status??"inactive"}},"./state/selectors/is-notifications-open.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/lodash-es/get.js");s("./state/ui/init.js");function n(e){return(0,o.Z)(e,"ui.isNotificationsOpen",!1)}},"./state/selectors/is-requesting-site-features.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/sites/features/reducer.js");function n(e,t){return e.sites.features?.[t]&&e.sites.features[t].isRequesting||o.T.isRequesting}},"./state/selectors/is-site-migration-active-route.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/selectors/get-current-route.js");function n(e){const t=(0,o.Z)(e);return!!t&&t.match(/\/migrate\/(upgrade\/)?from\/[^/]+\/to\//)}},"./state/selectors/is-site-migration-in-progress.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/selectors/get-site-migration-status.js");function n(e,t){const s=(0,o.Z)(e,t);return"inactive"!==s&&"done"!==s}},"./state/selectors/is-site-wpcom-atomic.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/lodash-es/get.js");const n=(e,t)=>(0,o.Z)(e,["sites","items",t,"options","is_wpcom_atomic"],!1)},"./state/selectors/is-vip-site.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/selectors/get-raw-site.ts");function n(e,t){const s=(0,o.Z)(e,t);return s&&s.hasOwnProperty("is_vip")?s.is_vip:null}},"./state/sites/features/actions.js":(e,t,s)=>{"use strict";s.d(t,{i:()=>d});var o=s("../node_modules/debug/src/browser.js"),n=s.n(o),i=s("../packages/i18n-calypso/src/index.js"),a=s("./lib/wp/browser.js"),r=s("./state/action-types.ts");const c=(e={})=>(e.active=e.active||[],e.available=e.available||{},e),l=n()("calypso:site-features:actions");function d(e){return t=>(t({type:r.fa4,siteId:e}),a.Z.req.get(`/sites/${e}/features`).then((s=>{t(function(e,t){return{type:r.xNf,siteId:e,features:c(t)}}(e,s))})).catch((s=>{l("Fetching site features failed: ",s);const o=s.message||i.ZP.translate("There was a problem fetching site features. Please try again later or contact support.");t({type:r.YCt,siteId:e,error:o})})))}},"./state/sites/features/reducer.js":(e,t,s)=>{"use strict";s.d(t,{T:()=>n,E:()=>a});var o=s("./state/action-types.ts");const n={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function i(e,t,s){return Object.assign({},e,{[t]:Object.assign({},n,e[t],s)})}function a(e={},{type:t,siteId:s,features:n,error:a}){switch(t){case o.fa4:return i(e,s,{error:null,isRequesting:!0});case o.xNf:return i(e,s,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:n});case o.YCt:return i(e,s,{error:a,isRequesting:!1})}return e}},"./state/sites/intro-offers/types.ts":(e,t,s)=>{"use strict";let o;s.d(t,{e:()=>o}),function(e){e.Pending="pending",e.Success="success",e.Failed="failed"}(o||(o={}))},"./state/sites/plans/reducer.js":(e,t,s)=>{"use strict";s.d(t,{T:()=>i,z:()=>r});var o=s("../node_modules/lodash-es/omit.js"),n=s("./state/action-types.ts");const i={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function a(e,t,s){return Object.assign({},e,{[t]:Object.assign({},i,e[t],s)})}function r(e={},t){switch(t.type){case n.gNn:return a(e,t.siteId,{error:null,isRequesting:!0});case n.Rmh:return a(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.plans});case n.$MQ:return a(e,t.siteId,{error:t.error,isRequesting:!1});case n.XLI:return(0,o.Z)(e,t.siteId)}return e}},"./state/sites/products/reducer.js":(e,t,s)=>{"use strict";s.d(t,{T:()=>n,R:()=>a});var o=s("./state/action-types.ts");const n={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function i(e,t,s){return Object.assign({},e,{[t]:Object.assign({},n,e[t],s)})}function a(e={},t){switch(t.type){case o.eO9:return i(e,t.siteId,{error:null,isRequesting:!0});case o.S3d:return i(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.products});case o.whB:return i(e,t.siteId,{error:t.error,isRequesting:!1})}return e}},"./state/sites/schema.js":(e,t,s)=>{"use strict";s.d(t,{K:()=>o,W:()=>n});const o={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","name"],properties:{ID:{type:"number"},name:{type:"string"},URL:{type:"string"},jetpack:{type:"boolean"},icon:{type:"object",properties:{img:{type:"string"},ico:{type:"string"},media_id:{type:"number"}}},visible:{type:"boolean"},is_private:{type:"boolean"},is_vip:{type:"boolean"},options:{type:"object"},meta:{type:"object"},is_multisite:{type:"boolean"},capabilities:{type:"object",patternProperties:{"^[a-z_]+$":{type:"boolean"}}},plan:{type:"object",required:["product_id","product_slug"],properties:{product_id:{type:["number","string"]},product_slug:{type:"string"},product_name_short:{type:["string","null"]},expired:{type:"boolean"},user_is_owner:{type:"boolean"},is_free:{type:"boolean"}}},single_user_site:{type:"boolean"},updates:{type:"object",properties:{jp_version:{type:"string"},plugins:{type:"number"},themes:{type:"number"},total:{type:"number"},translations:{type:"number"},wordpress:{type:"number"},wp_version:{type:"string"}}},lang:{type:"string"}}}},additionalProperties:!1},n={type:["boolean","null"]}},"./state/sites/selectors/can-current-user-use-customer-home.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./state/selectors/can-current-user.js"),n=s("./state/selectors/is-site-automated-transfer.ts"),i=s("./state/selectors/is-vip-site.js"),a=s("./state/sites/selectors/is-jetpack-site.ts"),r=s("./state/ui/selectors/get-selected-site-id.js"),c=s("./state/sites/selectors/get-site.js");function l(e,t=null){if(t||(t=(0,r.Z)(e)),(0,i.Z)(e,t))return!1;if((0,a.Z)(e,t)&&!(0,n.Z)(e,t))return!1;return(0,c.Z)(e,t)&&(0,o.i)(e,t,"edit_posts")}},"./state/sites/selectors/get-site-plan-slug.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/sites/selectors/get-site-plan.ts");function n(e,t){return(0,o.Z)(e,t)?.product_slug??null}},"./state/sites/selectors/get-site-plan.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./state/selectors/get-raw-site.ts");function n(e,t){if(!t)return null;const s=(0,o.Z)(e,t);return s?s.plan?.expired?s.jetpack&&!s.is_wpcom_atomic?{product_id:2002,product_slug:"jetpack_free",product_name_short:"Free",free_trial:!1,expired:!1}:{product_id:1,product_slug:"free_plan",product_name_short:"Free",free_trial:!1,expired:!1}:s.plan:null}},"./state/support/constants.js":(e,t,s)=>{"use strict";s.d(t,{Lr:()=>o,bZ:()=>n,a6:()=>i});const o="none",n="active",i="expired"},"./state/support/init.js":(e,t,s)=>{"use strict";var o=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),i=s("../node_modules/debug/src/browser.js"),a=s.n(i),r=s("./state/action-types.ts"),c=s("./state/support/constants.js");const l=a()("calypso:state:support:actions");const d=(0,n.xi)("support",(function(e=c.Lr,{type:t,nextState:s}){return t===r.wi9?e===c.Lr&&s===c.bZ||e===c.bZ&&s===c.a6?s:(l(`invalid support session transition from '${e}' to '${s}'`),e):e}));(0,o.x)(["support"],d)},"./state/support/selectors.js":(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var o=s("./state/support/constants.js");s("./state/support/init.js");function n({support:e}){return e===o.bZ||e===o.a6}},"./state/ui/actions/notifications.js":(e,t,s)=>{"use strict";s.d(t,{P:()=>n});var o=s("./state/action-types.ts");s("./state/ui/init.js");const n=()=>({type:o.hxz})},"./state/ui/layout-focus/actions.js":(e,t,s)=>{"use strict";s.d(t,{Js:()=>n,SB:()=>i,zW:()=>a});var o=s("./state/action-types.ts");s("./state/ui/init.js");function n(e){return{type:o.kUt,area:e}}function i(e){return{type:o.vO0,area:e}}function a(){return{type:o.XTm}}},"./state/ui/layout-focus/selectors.js":(e,t,s)=>{"use strict";s.d(t,{d:()=>o});s("./state/ui/init.js");function o(e){return e.ui.layoutFocus.current}},"./state/ui/selectors/is-section-loading.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s("./state/ui/init.js");function o(e){return e.ui.isSectionLoading}},"./state/ui/selectors/sidebar-visibility.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./state/ui/init.js");var o=s("./state/preferences/selectors.js");function n(e){return(0,o.Oz)(e,"sidebarCollapsed")}},"./utils.ts":(e,t,s)=>{"use strict";s.d(t,{y5:()=>n,Ds:()=>i,GI:()=>a});var o=s("./lib/url/add-query-args.ts");function n(e){return"/"===e?e:new RegExp("^"+e+"(/.*)?$")}function i(e,t){let s;return(...o)=>{window.clearTimeout(s),s=window.setTimeout((()=>{e(...o)}),t)}}function a(e,t,s){const n=(0,o.Z)({siteSlug:e,verified:s?1:void 0},`/setup/${t}/launchpad`);window.location.replace(n)}},"../packages/accessible-focus/src/index.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const o=[9,32,37,38,39,40],n=["Tab"," ","Spacebar","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"];let i=!1;function a(){document.addEventListener("keydown",(function(e){i||function(e){let t;return void 0!==e.key?t=e.key:void 0!==e.keyIdentifier?t=e.keyIdentifier:void 0!==e.keyCode&&(t=e.keyCode),void 0!==t&&("string"==typeof t?-1!==n.indexOf(t):-1!==o.indexOf(t))}(e)&&(i=!0,document.documentElement.classList.add("accessible-focus"))})),document.addEventListener("mouseup",(function(){i&&(i=!1,document.documentElement.classList.remove("accessible-focus"))}))}},"../node_modules/lodash-es/_baseFilter.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("../node_modules/lodash-es/_baseEach.js");const n=function(e,t){var s=[];return(0,o.Z)(e,(function(e,o,n){t(e,o,n)&&s.push(e)})),s}},"../node_modules/lodash-es/filter.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("../node_modules/lodash-es/_arrayFilter.js"),n=s("../node_modules/lodash-es/_baseFilter.js"),i=s("../node_modules/lodash-es/_baseIteratee.js"),a=s("../node_modules/lodash-es/isArray.js");const r=function(e,t){return((0,a.Z)(e)?o.Z:n.Z)(e,(0,i.Z)(t,3))}}},e=>{var t=t=>e(e.s=t);e.O(0,[89564,25897,84473,77048,61320,72511,56552,61403,16342,34268,90415,82681,36547,90299,57150],(()=>(t("../node_modules/@sentry/webpack-plugin/src/sentry-webpack.module.js"),t("./boot/app.js"))));e.O()}]);